<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Project 4: EDA, Bank Loan Risk Analysis. | Eric Gitonga.</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="This project aims to identify patterns which indicate if a client has difficulty paying their installments which may be used for taking actions such as denying the loan, reducing the amount of loan, lending (to risky applicants) at a higher interest rate, etc. This will ensure that the consumers capable of repaying the loan are not rejected. Identification of such applicants using EDA is the aim of this project.">
    <meta name="generator" content="Hugo 0.121.2">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="../../ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="../post/chapter-4/index.html">
    

    <meta property="og:title" content="Project 4: EDA, Bank Loan Risk Analysis." />
<meta property="og:description" content="This project aims to identify patterns which indicate if a client has difficulty paying their installments which may be used for taking actions such as denying the loan, reducing the amount of loan, lending (to risky applicants) at a higher interest rate, etc. This will ensure that the consumers capable of repaying the loan are not rejected. Identification of such applicants using EDA is the aim of this project." />
<meta property="og:type" content="article" />
<meta property="og:url" content="../post/chapter-4/index.html" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2024-01-12T03:52:30-05:00" />
<meta property="article:modified_time" content="2024-01-12T03:52:30-05:00" />

<meta itemprop="name" content="Project 4: EDA, Bank Loan Risk Analysis.">
<meta itemprop="description" content="This project aims to identify patterns which indicate if a client has difficulty paying their installments which may be used for taking actions such as denying the loan, reducing the amount of loan, lending (to risky applicants) at a higher interest rate, etc. This will ensure that the consumers capable of repaying the loan are not rejected. Identification of such applicants using EDA is the aim of this project."><meta itemprop="datePublished" content="2024-01-12T03:52:30-05:00" />
<meta itemprop="dateModified" content="2024-01-12T03:52:30-05:00" />
<meta itemprop="wordCount" content="9008">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Project 4: EDA, Bank Loan Risk Analysis."/>
<meta name="twitter:description" content="This project aims to identify patterns which indicate if a client has difficulty paying their installments which may be used for taking actions such as denying the loan, reducing the amount of loan, lending (to risky applicants) at a higher interest rate, etc. This will ensure that the consumers capable of repaying the loan are not rejected. Identification of such applicants using EDA is the aim of this project."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  
  <header class="cover bg-top" style="background-image: url('../../images/bank.webp');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="../../index.html" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Eric Gitonga.
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../../about/index.html" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../../contact/index.html" title="Contact page">
              Contact
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../../post/index.html" title="Projects page">
              Projects
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    
    <a href="https://www.instagram.com/gitonga_2.0?igsh=MTZxMHJpMnl4d3l1bA==" target="_blank" rel="noopener" class="instagram ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Instagram link" aria-label="follow on Instagram——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.271,26.578v-0.006c0.502,0,1.005,0.01,1.508-0.002  c0.646-0.017,1.172-0.57,1.172-1.217c0-0.963,0-1.927,0-2.89c0-0.691-0.547-1.24-1.236-1.241c-0.961,0-1.922-0.001-2.883,0  c-0.688,0.001-1.236,0.552-1.236,1.243c-0.001,0.955-0.004,1.91,0.003,2.865c0.001,0.143,0.028,0.291,0.073,0.426  c0.173,0.508,0.639,0.82,1.209,0.823C41.344,26.579,41.808,26.578,42.271,26.578z M33,27.817c-3.384-0.002-6.135,2.721-6.182,6.089  c-0.049,3.46,2.72,6.201,6.04,6.272c3.454,0.074,6.248-2.686,6.321-6.043C39.254,30.675,36.462,27.815,33,27.817z M21.046,31.116  v0.082c0,4.515-0.001,9.03,0,13.545c0,0.649,0.562,1.208,1.212,1.208c7.16,0.001,14.319,0.001,21.479,0  c0.656,0,1.215-0.557,1.215-1.212c0.001-4.509,0-9.02,0-13.528v-0.094h-2.912c0.411,1.313,0.537,2.651,0.376,4.014  c-0.161,1.363-0.601,2.631-1.316,3.803s-1.644,2.145-2.779,2.918c-2.944,2.006-6.821,2.182-9.946,0.428  c-1.579-0.885-2.819-2.12-3.685-3.713c-1.289-2.373-1.495-4.865-0.739-7.451C22.983,31.116,22.021,31.116,21.046,31.116z   M45.205,49.255c0.159-0.026,0.318-0.049,0.475-0.083c1.246-0.265,2.264-1.304,2.508-2.557c0.025-0.137,0.045-0.273,0.067-0.409  V21.794c-0.021-0.133-0.04-0.268-0.065-0.401c-0.268-1.367-1.396-2.428-2.78-2.618c-0.058-0.007-0.113-0.02-0.17-0.03H20.761  c-0.147,0.027-0.296,0.047-0.441,0.08c-1.352,0.308-2.352,1.396-2.545,2.766c-0.008,0.057-0.02,0.114-0.029,0.171V46.24  c0.028,0.154,0.05,0.311,0.085,0.465c0.299,1.322,1.427,2.347,2.77,2.52c0.064,0.008,0.13,0.021,0.195,0.03H45.205z M33,64  C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://github.com/gitonga86" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://www.linkedin.com/in/eric-gitonga-knight" target="_blank" rel="noopener" class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" aria-label="follow on LinkedIn——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">Project 4: EDA, Bank Loan Risk Analysis.</div>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Projects
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
      
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=../../post/chapter-4/&amp;title=Project%204:%20EDA,%20Bank%20Loan%20Risk%20Analysis." class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn">
        
        <span class="icon"> <svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
        
      </a>
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Project 4: EDA, Bank Loan Risk Analysis.</h1>
      
      <p class="tracked">
        By <strong>Eric Gitonga</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2024-01-12T03:52:30-05:00">January 12, 2024</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><blockquote>
<p><em>Please scroll to the the end to see my summary &amp; insights.</em></p>
</blockquote>
<h2 id="table-of-contents">Table of Contents:</h2>
<h2 id="1-introduction">1. Introduction:</h2>
<h3 id="introduction">Introduction:</h3>
<p>This project aims to give an idea of applying Exploratory Data Analysis (EDA) in a real business scenario. In this project, we will develop a basic understanding of risk analytics in banking and financial services and understand how data is used to minimize the risk of losing money while lending to customers.</p>
<hr>
<h3 id="business-understanding">Business Understanding:</h3>
<p>The loan providing companies find it hard to give loans to people due to their insufficient or non-existent credit history. Because of that, some consumers use it to their advantage by becoming a defaulter. Suppose you work for a consumer finance company that specializes in lending various types of loans to urban customers. You have to use EDA to analyze the patterns present in the data. This will ensure that the applicants capable of repaying the loan are not rejected.</p>
<p>When the company receives a loan application, the company has to decide for loan approval based on the applicant’s profile. Two types of risks are associated with the bank’s decision:</p>
<ul>
<li>If the applicant is likely to repay the loan, then not approving the loan results in a loss of business to the company.</li>
<li>If the applicant is not likely to repay the loan, i.e. he/she is likely to default, then approving the loan may lead to a financial loss for the company.</li>
</ul>
<p>The data given below contains information about the loan application at the time of applying for the loan. It contains two types of scenarios:</p>
<ul>
<li>The client with payment difficulties: he/she had late payment more than X days on at least one of the first Y installments of the loan in our sample.</li>
<li>All other cases: All other cases when the payment is paid on time.</li>
</ul>
<p>When a client applies for a loan, there are four types of decisions that could be taken by the client/company:</p>
<ol>
<li>Approved: The Company has approved the loan application.</li>
<li>Cancelled: The client canceled the application sometime during approval. Either the client changed her/his mind about the loan or in some cases due to a higher risk of the client he received worse pricing which he did not want.</li>
<li>Refused: The company had rejected the loan (because the client does not meet their requirements, etc.)</li>
<li>Unused offer: Loan has been canceled by the client but on different stages of the process.</li>
</ol>
<hr>
<h3 id="business-objective">Business Objective:</h3>
<p>This project aims to identify patterns which indicate if a client has difficulty paying their installments which may be used for taking actions such as denying the loan, reducing the amount of loan, lending (to risky applicants) at a higher interest rate, etc. This will ensure that the consumers capable of repaying the loan are not rejected. Identification of such applicants using EDA is the aim of this case study.</p>
<p>In other words, the company wants to understand the driving factors (or driver variables) behind loan default, i.e. the variables which are strong indicators of default. The company can utilize this knowledge for its portfolio and risk assessment.</p>
<hr>
<h2 id="2-lets-get-into-the-analysis">2. Lets get into the Analysis:</h2>
<h3 id="21-import-python-libraries">2.1 Import Python Libraries:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Import necessary Python libraries here</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.style <span style="color:#66d9ef">as</span> style
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> seaborn <span style="color:#66d9ef">as</span> sns
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> itertools
</span></span><span style="display:flex;"><span><span style="color:#f92672">%</span>matplotlib inline
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># setting up plot style </span>
</span></span><span style="display:flex;"><span>style<span style="color:#f92672">.</span>use(<span style="color:#e6db74">&#39;seaborn-poster&#39;</span>)
</span></span><span style="display:flex;"><span>style<span style="color:#f92672">.</span>use(<span style="color:#e6db74">&#39;fivethirtyeight&#39;</span>)
</span></span></code></pre></div><h4 id="22-supress-warnings">2.2 Supress Warnings:</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> warnings
</span></span><span style="display:flex;"><span>warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#39;ignore&#39;</span>)
</span></span></code></pre></div><h4 id="23-adjust-jupyer-views">2.3 Adjust Jupyer Views:</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>set_option(<span style="color:#e6db74">&#39;display.max_rows&#39;</span>, <span style="color:#ae81ff">500</span>)
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>set_option(<span style="color:#e6db74">&#39;display.max_columns&#39;</span>, <span style="color:#ae81ff">500</span>)
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>set_option(<span style="color:#e6db74">&#39;display.width&#39;</span>, <span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>set_option(<span style="color:#e6db74">&#39;display.expand_frame_repr&#39;</span>, <span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><h3 id="3-reading--understanding-the-data">3. Reading &amp; Understanding the data</h3>
<h4 id="31-importing-the-input-files">3.1 Importing the input files</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Input data files are available in the read-only &#34;../input/&#34; directory</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> dirname, _, filenames <span style="color:#f92672">in</span> os<span style="color:#f92672">.</span>walk(<span style="color:#e6db74">&#39;/kaggle/input&#39;</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> filename <span style="color:#f92672">in</span> filenames:
</span></span><span style="display:flex;"><span>        print(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(dirname, filename))
</span></span></code></pre></div><pre><code>/kaggle/input/loan-defaulter/columns_description.csv
/kaggle/input/loan-defaulter/application_data.csv
/kaggle/input/loan-defaulter/previous_application.csv
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>applicationDF <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;/kaggle/input/loan-defaulter/application_data.csv&#39;</span>)
</span></span><span style="display:flex;"><span>previousDF <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;/kaggle/input/loan-defaulter/previous_application.csv&#39;</span>)
</span></span><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h4 id="32-inspect-data-frames">3.2 Inspect Data Frames</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Database dimension</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Database dimension - applicationDF     :&#34;</span>,applicationDF<span style="color:#f92672">.</span>shape)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Database dimension - previousDF        :&#34;</span>,previousDF<span style="color:#f92672">.</span>shape)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Database size</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Database size - applicationDF          :&#34;</span>,applicationDF<span style="color:#f92672">.</span>size)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Database size - previousDF             :&#34;</span>,previousDF<span style="color:#f92672">.</span>size)
</span></span></code></pre></div><pre><code>Database dimension - applicationDF     : (307511, 122)
Database dimension - previousDF        : (1670214, 37)
Database size - applicationDF          : 37516342
Database size - previousDF             : 61797918
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>info(verbose<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking the numeric variables of the dataframes</span>
</span></span><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h3 id="4-data-cleaning--manipulation">4. Data Cleaning &amp; Manipulation</h3>
<h4 id="41-null-value-calculation">4.1 Null Value Calculation</h4>
<h5 id="411-applicationdf-missing-values">4.1.1 applicationDF Missing values</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> missingno <span style="color:#66d9ef">as</span> mn
</span></span><span style="display:flex;"><span>mn<span style="color:#f92672">.</span>matrix(applicationDF)
</span></span></code></pre></div><pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fe949db14d0&gt;
</code></pre>
<figure><img src="../../images/42.png"/>
</figure>

<blockquote>
<p><strong>Insight:</strong></p>
<p>Based on the above matrix, it is evident that the dataset has many missing values. Let&rsquo;s check for each column what is the percentage of missing values.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># % null value in each column</span>
</span></span><span style="display:flex;"><span>round(applicationDF<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">/</span> applicationDF<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">100.00</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>SK_ID_CURR                       0.00
TARGET                           0.00
NAME_CONTRACT_TYPE               0.00
CODE_GENDER                      0.00
FLAG_OWN_CAR                     0.00
FLAG_OWN_REALTY                  0.00
CNT_CHILDREN                     0.00
AMT_INCOME_TOTAL                 0.00
AMT_CREDIT                       0.00
AMT_ANNUITY                      0.00
AMT_GOODS_PRICE                  0.09
NAME_TYPE_SUITE                  0.42
NAME_INCOME_TYPE                 0.00
NAME_EDUCATION_TYPE              0.00
NAME_FAMILY_STATUS               0.00
NAME_HOUSING_TYPE                0.00
REGION_POPULATION_RELATIVE       0.00
DAYS_BIRTH                       0.00
DAYS_EMPLOYED                    0.00
DAYS_REGISTRATION                0.00
DAYS_ID_PUBLISH                  0.00
OWN_CAR_AGE                     65.99
FLAG_MOBIL                       0.00
FLAG_EMP_PHONE                   0.00
FLAG_WORK_PHONE                  0.00
FLAG_CONT_MOBILE                 0.00
FLAG_PHONE                       0.00
FLAG_EMAIL                       0.00
OCCUPATION_TYPE                 31.35
CNT_FAM_MEMBERS                  0.00
REGION_RATING_CLIENT             0.00
REGION_RATING_CLIENT_W_CITY      0.00
WEEKDAY_APPR_PROCESS_START       0.00
HOUR_APPR_PROCESS_START          0.00
REG_REGION_NOT_LIVE_REGION       0.00
REG_REGION_NOT_WORK_REGION       0.00
LIVE_REGION_NOT_WORK_REGION      0.00
REG_CITY_NOT_LIVE_CITY           0.00
REG_CITY_NOT_WORK_CITY           0.00
LIVE_CITY_NOT_WORK_CITY          0.00
ORGANIZATION_TYPE                0.00
EXT_SOURCE_1                    56.38
EXT_SOURCE_2                     0.21
EXT_SOURCE_3                    19.83
APARTMENTS_AVG                  50.75
BASEMENTAREA_AVG                58.52
YEARS_BEGINEXPLUATATION_AVG     48.78
YEARS_BUILD_AVG                 66.50
COMMONAREA_AVG                  69.87
ELEVATORS_AVG                   53.30
ENTRANCES_AVG                   50.35
FLOORSMAX_AVG                   49.76
FLOORSMIN_AVG                   67.85
LANDAREA_AVG                    59.38
LIVINGAPARTMENTS_AVG            68.35
LIVINGAREA_AVG                  50.19
NONLIVINGAPARTMENTS_AVG         69.43
NONLIVINGAREA_AVG               55.18
APARTMENTS_MODE                 50.75
BASEMENTAREA_MODE               58.52
YEARS_BEGINEXPLUATATION_MODE    48.78
YEARS_BUILD_MODE                66.50
COMMONAREA_MODE                 69.87
ELEVATORS_MODE                  53.30
ENTRANCES_MODE                  50.35
FLOORSMAX_MODE                  49.76
FLOORSMIN_MODE                  67.85
LANDAREA_MODE                   59.38
LIVINGAPARTMENTS_MODE           68.35
LIVINGAREA_MODE                 50.19
NONLIVINGAPARTMENTS_MODE        69.43
NONLIVINGAREA_MODE              55.18
APARTMENTS_MEDI                 50.75
BASEMENTAREA_MEDI               58.52
YEARS_BEGINEXPLUATATION_MEDI    48.78
YEARS_BUILD_MEDI                66.50
COMMONAREA_MEDI                 69.87
ELEVATORS_MEDI                  53.30
ENTRANCES_MEDI                  50.35
FLOORSMAX_MEDI                  49.76
FLOORSMIN_MEDI                  67.85
LANDAREA_MEDI                   59.38
LIVINGAPARTMENTS_MEDI           68.35
LIVINGAREA_MEDI                 50.19
NONLIVINGAPARTMENTS_MEDI        69.43
NONLIVINGAREA_MEDI              55.18
FONDKAPREMONT_MODE              68.39
HOUSETYPE_MODE                  50.18
TOTALAREA_MODE                  48.27
WALLSMATERIAL_MODE              50.84
EMERGENCYSTATE_MODE             47.40
OBS_30_CNT_SOCIAL_CIRCLE         0.33
DEF_30_CNT_SOCIAL_CIRCLE         0.33
OBS_60_CNT_SOCIAL_CIRCLE         0.33
DEF_60_CNT_SOCIAL_CIRCLE         0.33
DAYS_LAST_PHONE_CHANGE           0.00
FLAG_DOCUMENT_2                  0.00
FLAG_DOCUMENT_3                  0.00
FLAG_DOCUMENT_4                  0.00
FLAG_DOCUMENT_5                  0.00
FLAG_DOCUMENT_6                  0.00
FLAG_DOCUMENT_7                  0.00
FLAG_DOCUMENT_8                  0.00
FLAG_DOCUMENT_9                  0.00
FLAG_DOCUMENT_10                 0.00
FLAG_DOCUMENT_11                 0.00
FLAG_DOCUMENT_12                 0.00
FLAG_DOCUMENT_13                 0.00
FLAG_DOCUMENT_14                 0.00
FLAG_DOCUMENT_15                 0.00
FLAG_DOCUMENT_16                 0.00
FLAG_DOCUMENT_17                 0.00
FLAG_DOCUMENT_18                 0.00
FLAG_DOCUMENT_19                 0.00
FLAG_DOCUMENT_20                 0.00
FLAG_DOCUMENT_21                 0.00
AMT_REQ_CREDIT_BUREAU_HOUR      13.50
AMT_REQ_CREDIT_BUREAU_DAY       13.50
AMT_REQ_CREDIT_BUREAU_WEEK      13.50
AMT_REQ_CREDIT_BUREAU_MON       13.50
AMT_REQ_CREDIT_BUREAU_QRT       13.50
AMT_REQ_CREDIT_BUREAU_YEAR      13.50
dtype: float64
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>There are many columns in the <code>applicationDF</code> dataframe where the missing value is more than than 40%. Let&rsquo;s plot the columns vs missing value % with 40% being the cut-off marks</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>null_applicationDF <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame((applicationDF<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum())<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span><span style="color:#f92672">/</span>applicationDF<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>])<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span>null_applicationDF<span style="color:#f92672">.</span>columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;Column Name&#39;</span>, <span style="color:#e6db74">&#39;Null Values Percentage&#39;</span>]
</span></span><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">6</span>))
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>pointplot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Column Name&#34;</span>,y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Null Values Percentage&#34;</span>,data<span style="color:#f92672">=</span>null_applicationDF,color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;blue&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xticks(rotation <span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>,fontsize <span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>axhline(<span style="color:#ae81ff">40</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>,color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;red&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#34;Percentage of Missing values in application data&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;Null Values PERCENTAGE&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#34;COLUMNS&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><figure><img src="../../images/41.png"/>
</figure>

<blockquote>
<p><strong>Insight:</strong></p>
<p>The plot indicates columns with a percentage of null values exceeding 40% marked above the red line, while columns with less than 40% are marked above the red line and the columns which have less than 40 % null values below the red line. Let&rsquo;s check the columns which has more than 40% missing values</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># more than or equal to 40% empty rows columns</span>
</span></span><span style="display:flex;"><span>nullcol_40_application <span style="color:#f92672">=</span> null_applicationDF[null_applicationDF[<span style="color:#e6db74">&#34;Null Values Percentage&#34;</span>]<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">40</span>]
</span></span><span style="display:flex;"><span>nullcol_40_application
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># How many columns have more than or euqal to 40% null values ?</span>
</span></span><span style="display:flex;"><span>len(nullcol_40_application)
</span></span></code></pre></div><pre><code>49
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>Total of 49 columns have more than 40% null values. It seems like most of the columns with high missing values are related to different area sizes on the apartment owned/rented by the loan applicant.</p>
</blockquote>
<h5 id="412-previousdf-missing-values">4.1.2 previousDF Missing Values</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>mn<span style="color:#f92672">.</span>matrix(previousDF)
</span></span></code></pre></div><pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fe94d687c50&gt;
</code></pre>
<figure><img src="../../images/40.png"/>
</figure>

<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># checking the null value % of each column in previousDF dataframe</span>
</span></span><span style="display:flex;"><span>round(previousDF<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">/</span> previousDF<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">100.00</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>SK_ID_PREV                      0.00
SK_ID_CURR                      0.00
NAME_CONTRACT_TYPE              0.00
AMT_ANNUITY                    22.29
AMT_APPLICATION                 0.00
AMT_CREDIT                      0.00
AMT_DOWN_PAYMENT               53.64
AMT_GOODS_PRICE                23.08
WEEKDAY_APPR_PROCESS_START      0.00
HOUR_APPR_PROCESS_START         0.00
FLAG_LAST_APPL_PER_CONTRACT     0.00
NFLAG_LAST_APPL_IN_DAY          0.00
RATE_DOWN_PAYMENT              53.64
RATE_INTEREST_PRIMARY          99.64
RATE_INTEREST_PRIVILEGED       99.64
NAME_CASH_LOAN_PURPOSE          0.00
NAME_CONTRACT_STATUS            0.00
DAYS_DECISION                   0.00
NAME_PAYMENT_TYPE               0.00
CODE_REJECT_REASON              0.00
NAME_TYPE_SUITE                49.12
NAME_CLIENT_TYPE                0.00
NAME_GOODS_CATEGORY             0.00
NAME_PORTFOLIO                  0.00
NAME_PRODUCT_TYPE               0.00
CHANNEL_TYPE                    0.00
SELLERPLACE_AREA                0.00
NAME_SELLER_INDUSTRY            0.00
CNT_PAYMENT                    22.29
NAME_YIELD_GROUP                0.00
PRODUCT_COMBINATION             0.02
DAYS_FIRST_DRAWING             40.30
DAYS_FIRST_DUE                 40.30
DAYS_LAST_DUE_1ST_VERSION      40.30
DAYS_LAST_DUE                  40.30
DAYS_TERMINATION               40.30
NFLAG_INSURED_ON_APPROVAL      40.30
dtype: float64
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>There are many columns in the <code>previousDF</code> dataframe where the missing value is more than 40%. Let&rsquo;s plot the columns vs. missing value % with 40% being the cutoff marks.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>null_previousDF <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame((previousDF<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum())<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span><span style="color:#f92672">/</span>previousDF<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>])<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span>null_previousDF<span style="color:#f92672">.</span>columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;Column Name&#39;</span>, <span style="color:#e6db74">&#39;Null Values Percentage&#39;</span>]
</span></span><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">6</span>))
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>pointplot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Column Name&#34;</span>,y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Null Values Percentage&#34;</span>,data<span style="color:#f92672">=</span>null_previousDF,color <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;blue&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xticks(rotation <span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>,fontsize <span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>axhline(<span style="color:#ae81ff">40</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>,color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;red&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#34;Percentage of Missing values in previousDF data&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;Null Values PERCENTAGE&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#34;COLUMNS&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><figure><img src="../../images/39.png"/>
</figure>

<blockquote>
<p><strong>Insight:</strong></p>
<p>From the plot, we can see the columns in which the percentage of null values is more than 40% are marked above the red line, and the columns which have less than 40% null values are below the red line. Let&rsquo;s check the columns which have more than 40% missing values.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># more than or equal to 40% empty rows columns</span>
</span></span><span style="display:flex;"><span>nullcol_40_previous <span style="color:#f92672">=</span> null_previousDF[null_previousDF[<span style="color:#e6db74">&#34;Null Values Percentage&#34;</span>]<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">40</span>]
</span></span><span style="display:flex;"><span>nullcol_40_previous
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># How many columns have more than or euqal to 40% null values ?</span>
</span></span><span style="display:flex;"><span>len(nullcol_40_previous)
</span></span></code></pre></div><pre><code>11
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>Total of 11 columns have more than 40% null values. These columns can be deleted. Before deleting these columns, let&rsquo;s review if there are more columns which can be dropped or not.</p>
</blockquote>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="42-analyze--delete-unnecessary-columns-in-applicationdf">4.2 Analyze &amp; Delete Unnecessary Columns in applicationDF</h4>
<h5 id="421-ext_source_x">4.2.1 EXT_SOURCE_X</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking correlation of EXT_SOURCE_X columns vs TARGET column</span>
</span></span><span style="display:flex;"><span>Source <span style="color:#f92672">=</span> applicationDF[[<span style="color:#e6db74">&#34;EXT_SOURCE_1&#34;</span>,<span style="color:#e6db74">&#34;EXT_SOURCE_2&#34;</span>,<span style="color:#e6db74">&#34;EXT_SOURCE_3&#34;</span>,<span style="color:#e6db74">&#34;TARGET&#34;</span>]]
</span></span><span style="display:flex;"><span>source_corr <span style="color:#f92672">=</span> Source<span style="color:#f92672">.</span>corr()
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>heatmap(source_corr,
</span></span><span style="display:flex;"><span>            xticklabels<span style="color:#f92672">=</span>source_corr<span style="color:#f92672">.</span>columns,
</span></span><span style="display:flex;"><span>            yticklabels<span style="color:#f92672">=</span>source_corr<span style="color:#f92672">.</span>columns,
</span></span><span style="display:flex;"><span>            annot <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>            cmap <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;RdYlGn&#34;</span>)
</span></span></code></pre></div><figure><img src="../../images/38.png"/>
</figure>

<blockquote>
<p><strong>Insight:</strong></p>
<p>Based on the above Heatmap, we can see there is almost no correlation between EXT_SOURCE_X columns and target column, thus we can drop these columns. EXT_SOURCE_1 has 56% null values, where as EXT_SOURCE_3 has close to 20% null values</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># create a list of columns that needs to be dropped including the columns with &gt;40% null values</span>
</span></span><span style="display:flex;"><span>Unwanted_application <span style="color:#f92672">=</span> nullcol_40_application[<span style="color:#e6db74">&#34;Column Name&#34;</span>]<span style="color:#f92672">.</span>tolist()<span style="color:#f92672">+</span> [<span style="color:#e6db74">&#39;EXT_SOURCE_2&#39;</span>,<span style="color:#e6db74">&#39;EXT_SOURCE_3&#39;</span>] 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># as EXT_SOURCE_1 column is already included in nullcol_40_application </span>
</span></span><span style="display:flex;"><span>len(Unwanted_application)
</span></span></code></pre></div><h5 id="422-flag-document">4.2.2 Flag Document</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking the relevance of Flag_Document and whether it has any relation with loan repayment status</span>
</span></span><span style="display:flex;"><span>col_Doc <span style="color:#f92672">=</span> [ <span style="color:#e6db74">&#39;FLAG_DOCUMENT_2&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_3&#39;</span>,<span style="color:#e6db74">&#39;FLAG_DOCUMENT_4&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_5&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_6&#39;</span>,<span style="color:#e6db74">&#39;FLAG_DOCUMENT_7&#39;</span>, 
</span></span><span style="display:flex;"><span>           <span style="color:#e6db74">&#39;FLAG_DOCUMENT_8&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_9&#39;</span>,<span style="color:#e6db74">&#39;FLAG_DOCUMENT_10&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_11&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_12&#39;</span>,<span style="color:#e6db74">&#39;FLAG_DOCUMENT_13&#39;</span>,
</span></span><span style="display:flex;"><span>           <span style="color:#e6db74">&#39;FLAG_DOCUMENT_14&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_15&#39;</span>,<span style="color:#e6db74">&#39;FLAG_DOCUMENT_16&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_17&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_18&#39;</span>,
</span></span><span style="display:flex;"><span>           <span style="color:#e6db74">&#39;FLAG_DOCUMENT_19&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_20&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_21&#39;</span>]
</span></span><span style="display:flex;"><span>df_flag <span style="color:#f92672">=</span> applicationDF[col_Doc<span style="color:#f92672">+</span>[<span style="color:#e6db74">&#34;TARGET&#34;</span>]]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>length <span style="color:#f92672">=</span> len(col_Doc)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df_flag[<span style="color:#e6db74">&#34;TARGET&#34;</span>] <span style="color:#f92672">=</span> df_flag[<span style="color:#e6db74">&#34;TARGET&#34;</span>]<span style="color:#f92672">.</span>replace({<span style="color:#ae81ff">1</span>:<span style="color:#e6db74">&#34;Defaulter&#34;</span>,<span style="color:#ae81ff">0</span>:<span style="color:#e6db74">&#34;Repayer&#34;</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">21</span>,<span style="color:#ae81ff">24</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i,j <span style="color:#f92672">in</span> itertools<span style="color:#f92672">.</span>zip_longest(col_Doc,range(length)):
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">4</span>,j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    ax <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>countplot(df_flag[i],hue<span style="color:#f92672">=</span>df_flag[<span style="color:#e6db74">&#34;TARGET&#34;</span>],palette<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;r&#34;</span>,<span style="color:#e6db74">&#34;g&#34;</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>yticks(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(i)
</span></span></code></pre></div><figure><img src="../../images/37.png"/>
</figure>

<blockquote>
<p><strong>Insight:</strong></p>
<p>The above graph shows that in most loan application cases, clients who applied for loans have not submitted FLAG_DOCUMENT_X except FLAG_DOCUMENT_3. Thus, except for FLAG_DOCUMENT_3, we can delete the rest of the columns. Data shows if the borrower has submitted FLAG_DOCUMENT_3, then there is a less chance of defaulting on the loan.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Including the flag documents for dropping the Document columns</span>
</span></span><span style="display:flex;"><span>col_Doc<span style="color:#f92672">.</span>remove(<span style="color:#e6db74">&#39;FLAG_DOCUMENT_3&#39;</span>) 
</span></span><span style="display:flex;"><span>Unwanted_application <span style="color:#f92672">=</span> Unwanted_application <span style="color:#f92672">+</span> col_Doc
</span></span><span style="display:flex;"><span>len(Unwanted_application)
</span></span></code></pre></div><pre><code>70
</code></pre>
<h5 id="423-contact-parameters">4.2.3 Contact Parameters</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># checking is there is any correlation between mobile phone, work phone etc, email, Family members and Region rating</span>
</span></span><span style="display:flex;"><span>contact_col <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;FLAG_MOBIL&#39;</span>, <span style="color:#e6db74">&#39;FLAG_EMP_PHONE&#39;</span>, <span style="color:#e6db74">&#39;FLAG_WORK_PHONE&#39;</span>, <span style="color:#e6db74">&#39;FLAG_CONT_MOBILE&#39;</span>,
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#39;FLAG_PHONE&#39;</span>, <span style="color:#e6db74">&#39;FLAG_EMAIL&#39;</span>,<span style="color:#e6db74">&#39;TARGET&#39;</span>]
</span></span><span style="display:flex;"><span>Contact_corr <span style="color:#f92672">=</span> applicationDF[contact_col]<span style="color:#f92672">.</span>corr()
</span></span><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">8</span>))
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>heatmap(Contact_corr,
</span></span><span style="display:flex;"><span>            xticklabels<span style="color:#f92672">=</span>Contact_corr<span style="color:#f92672">.</span>columns,
</span></span><span style="display:flex;"><span>            yticklabels<span style="color:#f92672">=</span>Contact_corr<span style="color:#f92672">.</span>columns,
</span></span><span style="display:flex;"><span>            annot <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>            cmap <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;RdYlGn&#34;</span>,
</span></span><span style="display:flex;"><span>            linewidth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><figure><img src="../../images/36.png"/>
</figure>

<blockquote>
<p><strong>Insight:</strong></p>
<p>There is no correlation between flags of mobile phone, email, etc., with loan repayment; thus, these columns can be deleted.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># including the 6 FLAG columns to be deleted</span>
</span></span><span style="display:flex;"><span>contact_col<span style="color:#f92672">.</span>remove(<span style="color:#e6db74">&#39;TARGET&#39;</span>) 
</span></span><span style="display:flex;"><span>Unwanted_application <span style="color:#f92672">=</span> Unwanted_application <span style="color:#f92672">+</span> contact_col
</span></span><span style="display:flex;"><span>len(Unwanted_application)
</span></span></code></pre></div><pre><code>76
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>Total of 76 columns can be deleted from <code>applicationDF</code>.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Dropping the unnecessary columns from applicationDF</span>
</span></span><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>drop(labels<span style="color:#f92672">=</span>Unwanted_application,axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Inspecting the dataframe after removal of unnecessary columns</span>
</span></span><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>shape
</span></span></code></pre></div><pre><code>(307511, 46)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># inspecting the column types after removal of unnecessary columns</span>
</span></span><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 307511 entries, 0 to 307510
Data columns (total 46 columns):
 #   Column                       Non-Null Count   Dtype  
---  ------                       --------------   -----  
 0   SK_ID_CURR                   307511 non-null  int64  
 1   TARGET                       307511 non-null  int64  
 2   NAME_CONTRACT_TYPE           307511 non-null  object 
 3   CODE_GENDER                  307511 non-null  object 
 4   FLAG_OWN_CAR                 307511 non-null  object 
 5   FLAG_OWN_REALTY              307511 non-null  object 
 6   CNT_CHILDREN                 307511 non-null  int64  
 7   AMT_INCOME_TOTAL             307511 non-null  float64
 8   AMT_CREDIT                   307511 non-null  float64
 9   AMT_ANNUITY                  307499 non-null  float64
 10  AMT_GOODS_PRICE              307233 non-null  float64
 11  NAME_TYPE_SUITE              306219 non-null  object 
 12  NAME_INCOME_TYPE             307511 non-null  object 
 13  NAME_EDUCATION_TYPE          307511 non-null  object 
 14  NAME_FAMILY_STATUS           307511 non-null  object 
 15  NAME_HOUSING_TYPE            307511 non-null  object 
 16  REGION_POPULATION_RELATIVE   307511 non-null  float64
 17  DAYS_BIRTH                   307511 non-null  int64  
 18  DAYS_EMPLOYED                307511 non-null  int64  
 19  DAYS_REGISTRATION            307511 non-null  float64
 20  DAYS_ID_PUBLISH              307511 non-null  int64  
 21  OCCUPATION_TYPE              211120 non-null  object 
 22  CNT_FAM_MEMBERS              307509 non-null  float64
 23  REGION_RATING_CLIENT         307511 non-null  int64  
 24  REGION_RATING_CLIENT_W_CITY  307511 non-null  int64  
 25  WEEKDAY_APPR_PROCESS_START   307511 non-null  object 
 26  HOUR_APPR_PROCESS_START      307511 non-null  int64  
 27  REG_REGION_NOT_LIVE_REGION   307511 non-null  int64  
 28  REG_REGION_NOT_WORK_REGION   307511 non-null  int64  
 29  LIVE_REGION_NOT_WORK_REGION  307511 non-null  int64  
 30  REG_CITY_NOT_LIVE_CITY       307511 non-null  int64  
 31  REG_CITY_NOT_WORK_CITY       307511 non-null  int64  
 32  LIVE_CITY_NOT_WORK_CITY      307511 non-null  int64  
 33  ORGANIZATION_TYPE            307511 non-null  object 
 34  OBS_30_CNT_SOCIAL_CIRCLE     306490 non-null  float64
 35  DEF_30_CNT_SOCIAL_CIRCLE     306490 non-null  float64
 36  OBS_60_CNT_SOCIAL_CIRCLE     306490 non-null  float64
 37  DEF_60_CNT_SOCIAL_CIRCLE     306490 non-null  float64
 38  DAYS_LAST_PHONE_CHANGE       307510 non-null  float64
 39  FLAG_DOCUMENT_3              307511 non-null  int64  
 40  AMT_REQ_CREDIT_BUREAU_HOUR   265992 non-null  float64
 41  AMT_REQ_CREDIT_BUREAU_DAY    265992 non-null  float64
 42  AMT_REQ_CREDIT_BUREAU_WEEK   265992 non-null  float64
 43  AMT_REQ_CREDIT_BUREAU_MON    265992 non-null  float64
 44  AMT_REQ_CREDIT_BUREAU_QRT    265992 non-null  float64
 45  AMT_REQ_CREDIT_BUREAU_YEAR   265992 non-null  float64
dtypes: float64(18), int64(16), object(12)
memory usage: 107.9+ MB
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>After deleting unnecessary columns, there are 46 columns remaining in <code>applicationDF</code>.</p>
</blockquote>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="43-analyze--delete-unnecessary-columns-in-previousdf">4.3 Analyze &amp; Delete Unnecessary Columns in previousDF</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Getting the 11 columns which has more than 40% unknown</span>
</span></span><span style="display:flex;"><span>Unwanted_previous <span style="color:#f92672">=</span> nullcol_40_previous[<span style="color:#e6db74">&#34;Column Name&#34;</span>]<span style="color:#f92672">.</span>tolist()
</span></span><span style="display:flex;"><span>Unwanted_previous
</span></span></code></pre></div><pre><code>['AMT_DOWN_PAYMENT',
 'RATE_DOWN_PAYMENT',
 'RATE_INTEREST_PRIMARY',
 'RATE_INTEREST_PRIVILEGED',
 'NAME_TYPE_SUITE',
 'DAYS_FIRST_DRAWING',
 'DAYS_FIRST_DUE',
 'DAYS_LAST_DUE_1ST_VERSION',
 'DAYS_LAST_DUE',
 'DAYS_TERMINATION',
 'NFLAG_INSURED_ON_APPROVAL']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Listing down columns which are not needed</span>
</span></span><span style="display:flex;"><span>Unnecessary_previous <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;WEEKDAY_APPR_PROCESS_START&#39;</span>,<span style="color:#e6db74">&#39;HOUR_APPR_PROCESS_START&#39;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;FLAG_LAST_APPL_PER_CONTRACT&#39;</span>,<span style="color:#e6db74">&#39;NFLAG_LAST_APPL_IN_DAY&#39;</span>]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Unwanted_previous <span style="color:#f92672">=</span> Unwanted_previous <span style="color:#f92672">+</span> Unnecessary_previous
</span></span><span style="display:flex;"><span>len(Unwanted_previous)
</span></span></code></pre></div><pre><code>15
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>Total of 15 columns can be deleted from <code>previousDF</code>.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Dropping the unnecessary columns from previous</span>
</span></span><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>drop(labels<span style="color:#f92672">=</span>Unwanted_previous,axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Inspecting the dataframe after removal of unnecessary columns</span>
</span></span><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>shape
</span></span></code></pre></div><pre><code>(1670214, 22)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># inspecting the column types after after removal of unnecessary columns</span>
</span></span><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1670214 entries, 0 to 1670213
Data columns (total 22 columns):
 #   Column                  Non-Null Count    Dtype  
---  ------                  --------------    -----  
 0   SK_ID_PREV              1670214 non-null  int64  
 1   SK_ID_CURR              1670214 non-null  int64  
 2   NAME_CONTRACT_TYPE      1670214 non-null  object 
 3   AMT_ANNUITY             1297979 non-null  float64
 4   AMT_APPLICATION         1670214 non-null  float64
 5   AMT_CREDIT              1670213 non-null  float64
 6   AMT_GOODS_PRICE         1284699 non-null  float64
 7   NAME_CASH_LOAN_PURPOSE  1670214 non-null  object 
 8   NAME_CONTRACT_STATUS    1670214 non-null  object 
 9   DAYS_DECISION           1670214 non-null  int64  
 10  NAME_PAYMENT_TYPE       1670214 non-null  object 
 11  CODE_REJECT_REASON      1670214 non-null  object 
 12  NAME_CLIENT_TYPE        1670214 non-null  object 
 13  NAME_GOODS_CATEGORY     1670214 non-null  object 
 14  NAME_PORTFOLIO          1670214 non-null  object 
 15  NAME_PRODUCT_TYPE       1670214 non-null  object 
 16  CHANNEL_TYPE            1670214 non-null  object 
 17  SELLERPLACE_AREA        1670214 non-null  int64  
 18  NAME_SELLER_INDUSTRY    1670214 non-null  object 
 19  CNT_PAYMENT             1297984 non-null  float64
 20  NAME_YIELD_GROUP        1670214 non-null  object 
 21  PRODUCT_COMBINATION     1669868 non-null  object 
dtypes: float64(5), int64(4), object(13)
memory usage: 280.3+ MB
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>After deleting unnecessary columns, there are 22 columns remaining in <code>applicationDF</code>.</p>
</blockquote>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="44-standardize-values">4.4 Standardize Values</h4>
<blockquote>
<p><strong>Strategy for applicationDF:</strong></p>
<ul>
<li>Convert <code>DAYS_DECISION</code>, <code>DAYS_EMPLOYED</code>, <code>DAYS_REGISTRATION</code>, <code>DAYS_ID_PUBLISH</code> from negative to positive as days cannot be negative.</li>
<li>Convert <code>DAYS_BIRTH</code> from negative to positive values and calculate age, creating categorical bins columns.</li>
<li>Categorize the amount variables into bins.</li>
<li>Convert the region rating column and a few other columns to categorical.</li>
</ul>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Converting Negative days to positive days</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>date_col <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;DAYS_BIRTH&#39;</span>,<span style="color:#e6db74">&#39;DAYS_EMPLOYED&#39;</span>,<span style="color:#e6db74">&#39;DAYS_REGISTRATION&#39;</span>,<span style="color:#e6db74">&#39;DAYS_ID_PUBLISH&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> col <span style="color:#f92672">in</span> date_col:
</span></span><span style="display:flex;"><span>    applicationDF[col] <span style="color:#f92672">=</span> abs(applicationDF[col])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Binning Numerical Columns to create a categorical column</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Creating bins for income amount</span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>]<span style="color:#f92672">=</span>applicationDF[<span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>]<span style="color:#f92672">/</span><span style="color:#ae81ff">100000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bins <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">11</span>]
</span></span><span style="display:flex;"><span>slot <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;0-100K&#39;</span>,<span style="color:#e6db74">&#39;100K-200K&#39;</span>, <span style="color:#e6db74">&#39;200k-300k&#39;</span>,<span style="color:#e6db74">&#39;300k-400k&#39;</span>,<span style="color:#e6db74">&#39;400k-500k&#39;</span>,<span style="color:#e6db74">&#39;500k-600k&#39;</span>,<span style="color:#e6db74">&#39;600k-700k&#39;</span>,<span style="color:#e6db74">&#39;700k-800k&#39;</span>,<span style="color:#e6db74">&#39;800k-900k&#39;</span>,<span style="color:#e6db74">&#39;900k-1M&#39;</span>, <span style="color:#e6db74">&#39;1M Above&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AMT_INCOME_RANGE&#39;</span>]<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>cut(applicationDF[<span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>],bins,labels<span style="color:#f92672">=</span>slot)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AMT_INCOME_RANGE&#39;</span>]<span style="color:#f92672">.</span>value_counts(normalize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span></code></pre></div><pre><code>100K-200K    50.735000
200k-300k    21.210691
0-100K       20.729695
300k-400k     4.776116
400k-500k     1.744669
500k-600k     0.356354
600k-700k     0.282805
800k-900k     0.096980
700k-800k     0.052721
900k-1M       0.009112
1M Above      0.005858
Name: AMT_INCOME_RANGE, dtype: float64
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>More than 50% of loan applicants have income amounts in the range of 100K-200K. Almost 92% of loan applicants have income less than 300K.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Creating bins for Credit amount</span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>]<span style="color:#f92672">=</span>applicationDF[<span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>]<span style="color:#f92672">/</span><span style="color:#ae81ff">100000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bins <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">100</span>]
</span></span><span style="display:flex;"><span>slots <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;0-100K&#39;</span>,<span style="color:#e6db74">&#39;100K-200K&#39;</span>, <span style="color:#e6db74">&#39;200k-300k&#39;</span>,<span style="color:#e6db74">&#39;300k-400k&#39;</span>,<span style="color:#e6db74">&#39;400k-500k&#39;</span>,<span style="color:#e6db74">&#39;500k-600k&#39;</span>,<span style="color:#e6db74">&#39;600k-700k&#39;</span>,<span style="color:#e6db74">&#39;700k-800k&#39;</span>,
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#39;800k-900k&#39;</span>,<span style="color:#e6db74">&#39;900k-1M&#39;</span>, <span style="color:#e6db74">&#39;1M Above&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AMT_CREDIT_RANGE&#39;</span>]<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>cut(applicationDF[<span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>],bins<span style="color:#f92672">=</span>bins,labels<span style="color:#f92672">=</span>slots)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#checking the binning of data and % of data in each category</span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AMT_CREDIT_RANGE&#39;</span>]<span style="color:#f92672">.</span>value_counts(normalize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span></code></pre></div><pre><code>200k-300k    17.824728
1M Above     16.254703
500k-600k    11.131960
400k-500k    10.418489
100K-200K     9.801275
300k-400k     8.564897
600k-700k     7.820533
800k-900k     7.086576
700k-800k     6.241403
900k-1M       2.902986
0-100K        1.952450
Name: AMT_CREDIT_RANGE, dtype: float64
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>More than 16% of loan applicants have taken loans amounting to more than 1 million.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Creating bins for Age</span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AGE&#39;</span>] <span style="color:#f92672">=</span> applicationDF[<span style="color:#e6db74">&#39;DAYS_BIRTH&#39;</span>] <span style="color:#f92672">//</span> <span style="color:#ae81ff">365</span>
</span></span><span style="display:flex;"><span>bins <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">40</span>,<span style="color:#ae81ff">50</span>,<span style="color:#ae81ff">100</span>]
</span></span><span style="display:flex;"><span>slots <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;0-20&#39;</span>,<span style="color:#e6db74">&#39;20-30&#39;</span>,<span style="color:#e6db74">&#39;30-40&#39;</span>,<span style="color:#e6db74">&#39;40-50&#39;</span>,<span style="color:#e6db74">&#39;50 above&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AGE_GROUP&#39;</span>]<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>cut(applicationDF[<span style="color:#e6db74">&#39;AGE&#39;</span>],bins<span style="color:#f92672">=</span>bins,labels<span style="color:#f92672">=</span>slots)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#checking the binning of data and % of data in each category</span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;AGE_GROUP&#39;</span>]<span style="color:#f92672">.</span>value_counts(normalize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span></code></pre></div><pre><code>50 above    31.604398
30-40       27.028952
40-50       24.194582
20-30       17.171743
0-20         0.000325
Name: AGE_GROUP, dtype: float64
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>31% of loan applicants have an age above 50 years. More than 55% of loan applicants have an age over 40 years.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Creating bins for Employement Time</span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;YEARS_EMPLOYED&#39;</span>] <span style="color:#f92672">=</span> applicationDF[<span style="color:#e6db74">&#39;DAYS_EMPLOYED&#39;</span>] <span style="color:#f92672">//</span> <span style="color:#ae81ff">365</span>
</span></span><span style="display:flex;"><span>bins <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">40</span>,<span style="color:#ae81ff">50</span>,<span style="color:#ae81ff">60</span>,<span style="color:#ae81ff">150</span>]
</span></span><span style="display:flex;"><span>slots <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;0-5&#39;</span>,<span style="color:#e6db74">&#39;5-10&#39;</span>,<span style="color:#e6db74">&#39;10-20&#39;</span>,<span style="color:#e6db74">&#39;20-30&#39;</span>,<span style="color:#e6db74">&#39;30-40&#39;</span>,<span style="color:#e6db74">&#39;40-50&#39;</span>,<span style="color:#e6db74">&#39;50-60&#39;</span>,<span style="color:#e6db74">&#39;60 above&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;EMPLOYMENT_YEAR&#39;</span>]<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>cut(applicationDF[<span style="color:#e6db74">&#39;YEARS_EMPLOYED&#39;</span>],bins<span style="color:#f92672">=</span>bins,labels<span style="color:#f92672">=</span>slots)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#checking the binning of data and % of data in each category</span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;EMPLOYMENT_YEAR&#39;</span>]<span style="color:#f92672">.</span>value_counts(normalize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span></code></pre></div><pre><code>0-5         55.582363
5-10        24.966441
10-20       14.564315
20-30        3.750117
30-40        1.058720
40-50        0.078044
60 above     0.000000
50-60        0.000000
Name: EMPLOYMENT_YEAR, dtype: float64
</code></pre>
<blockquote>
<p><strong>Insight:</strong>
More than 55% of the loan applicants have work experience within 0-5 years, and almost 80% of them have less than 10 years of work experience.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Checking the number of unique values each column possess to identify categorical columns</span>
</span></span><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>nunique()<span style="color:#f92672">.</span>sort_values()
</span></span></code></pre></div><pre><code>LIVE_CITY_NOT_WORK_CITY             2
TARGET                              2
NAME_CONTRACT_TYPE                  2
REG_REGION_NOT_LIVE_REGION          2
FLAG_OWN_CAR                        2
FLAG_OWN_REALTY                     2
REG_REGION_NOT_WORK_REGION          2
LIVE_REGION_NOT_WORK_REGION         2
FLAG_DOCUMENT_3                     2
REG_CITY_NOT_LIVE_CITY              2
REG_CITY_NOT_WORK_CITY              2
REGION_RATING_CLIENT                3
CODE_GENDER                         3
REGION_RATING_CLIENT_W_CITY         3
AMT_REQ_CREDIT_BUREAU_HOUR          5
NAME_EDUCATION_TYPE                 5
AGE_GROUP                           5
NAME_FAMILY_STATUS                  6
NAME_HOUSING_TYPE                   6
EMPLOYMENT_YEAR                     6
WEEKDAY_APPR_PROCESS_START          7
NAME_TYPE_SUITE                     7
NAME_INCOME_TYPE                    8
AMT_REQ_CREDIT_BUREAU_WEEK          9
AMT_REQ_CREDIT_BUREAU_DAY           9
DEF_60_CNT_SOCIAL_CIRCLE            9
DEF_30_CNT_SOCIAL_CIRCLE           10
AMT_CREDIT_RANGE                   11
AMT_INCOME_RANGE                   11
AMT_REQ_CREDIT_BUREAU_QRT          11
CNT_CHILDREN                       15
CNT_FAM_MEMBERS                    17
OCCUPATION_TYPE                    18
HOUR_APPR_PROCESS_START            24
AMT_REQ_CREDIT_BUREAU_MON          24
AMT_REQ_CREDIT_BUREAU_YEAR         25
OBS_60_CNT_SOCIAL_CIRCLE           33
OBS_30_CNT_SOCIAL_CIRCLE           33
AGE                                50
YEARS_EMPLOYED                     51
ORGANIZATION_TYPE                  58
REGION_POPULATION_RELATIVE         81
AMT_GOODS_PRICE                  1002
AMT_INCOME_TOTAL                 2548
DAYS_LAST_PHONE_CHANGE           3773
AMT_CREDIT                       5603
DAYS_ID_PUBLISH                  6168
DAYS_EMPLOYED                   12574
AMT_ANNUITY                     13672
DAYS_REGISTRATION               15688
DAYS_BIRTH                      17460
SK_ID_CURR                     307511
dtype: int64
</code></pre>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="45-data-type-conversion">4.5 Data Type Conversion</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># inspecting the column types if they are in correct data type using the above result.</span>
</span></span><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 307511 entries, 0 to 307510
Data columns (total 52 columns):
 #   Column                       Non-Null Count   Dtype   
---  ------                       --------------   -----   
 0   SK_ID_CURR                   307511 non-null  int64   
 1   TARGET                       307511 non-null  int64   
 2   NAME_CONTRACT_TYPE           307511 non-null  object  
 3   CODE_GENDER                  307511 non-null  object  
 4   FLAG_OWN_CAR                 307511 non-null  object  
 5   FLAG_OWN_REALTY              307511 non-null  object  
 6   CNT_CHILDREN                 307511 non-null  int64   
 7   AMT_INCOME_TOTAL             307511 non-null  float64 
 8   AMT_CREDIT                   307511 non-null  float64 
 9   AMT_ANNUITY                  307499 non-null  float64 
 10  AMT_GOODS_PRICE              307233 non-null  float64 
 11  NAME_TYPE_SUITE              306219 non-null  object  
 12  NAME_INCOME_TYPE             307511 non-null  object  
 13  NAME_EDUCATION_TYPE          307511 non-null  object  
 14  NAME_FAMILY_STATUS           307511 non-null  object  
 15  NAME_HOUSING_TYPE            307511 non-null  object  
 16  REGION_POPULATION_RELATIVE   307511 non-null  float64 
 17  DAYS_BIRTH                   307511 non-null  int64   
 18  DAYS_EMPLOYED                307511 non-null  int64   
 19  DAYS_REGISTRATION            307511 non-null  float64 
 20  DAYS_ID_PUBLISH              307511 non-null  int64   
 21  OCCUPATION_TYPE              211120 non-null  object  
 22  CNT_FAM_MEMBERS              307509 non-null  float64 
 23  REGION_RATING_CLIENT         307511 non-null  int64   
 24  REGION_RATING_CLIENT_W_CITY  307511 non-null  int64   
 25  WEEKDAY_APPR_PROCESS_START   307511 non-null  object  
 26  HOUR_APPR_PROCESS_START      307511 non-null  int64   
 27  REG_REGION_NOT_LIVE_REGION   307511 non-null  int64   
 28  REG_REGION_NOT_WORK_REGION   307511 non-null  int64   
 29  LIVE_REGION_NOT_WORK_REGION  307511 non-null  int64   
 30  REG_CITY_NOT_LIVE_CITY       307511 non-null  int64   
 31  REG_CITY_NOT_WORK_CITY       307511 non-null  int64   
 32  LIVE_CITY_NOT_WORK_CITY      307511 non-null  int64   
 33  ORGANIZATION_TYPE            307511 non-null  object  
 34  OBS_30_CNT_SOCIAL_CIRCLE     306490 non-null  float64 
 35  DEF_30_CNT_SOCIAL_CIRCLE     306490 non-null  float64 
 36  OBS_60_CNT_SOCIAL_CIRCLE     306490 non-null  float64 
 37  DEF_60_CNT_SOCIAL_CIRCLE     306490 non-null  float64 
 38  DAYS_LAST_PHONE_CHANGE       307510 non-null  float64 
 39  FLAG_DOCUMENT_3              307511 non-null  int64   
 40  AMT_REQ_CREDIT_BUREAU_HOUR   265992 non-null  float64 
 41  AMT_REQ_CREDIT_BUREAU_DAY    265992 non-null  float64 
 42  AMT_REQ_CREDIT_BUREAU_WEEK   265992 non-null  float64 
 43  AMT_REQ_CREDIT_BUREAU_MON    265992 non-null  float64 
 44  AMT_REQ_CREDIT_BUREAU_QRT    265992 non-null  float64 
 45  AMT_REQ_CREDIT_BUREAU_YEAR   265992 non-null  float64 
 46  AMT_INCOME_RANGE             307279 non-null  category
 47  AMT_CREDIT_RANGE             307511 non-null  category
 48  AGE                          307511 non-null  int64   
 49  AGE_GROUP                    307511 non-null  category
 50  YEARS_EMPLOYED               307511 non-null  int64   
 51  EMPLOYMENT_YEAR              224233 non-null  category
dtypes: category(4), float64(18), int64(18), object(12)
memory usage: 113.8+ MB
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>Numeric columns are already in <code>int64</code> and <code>float64</code> format. Hence proceeding with other columns.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Conversion of Object and Numerical columns to Categorical Columns</span>
</span></span><span style="display:flex;"><span>categorical_columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;NAME_CONTRACT_TYPE&#39;</span>,<span style="color:#e6db74">&#39;CODE_GENDER&#39;</span>,<span style="color:#e6db74">&#39;NAME_TYPE_SUITE&#39;</span>,<span style="color:#e6db74">&#39;NAME_INCOME_TYPE&#39;</span>,<span style="color:#e6db74">&#39;NAME_EDUCATION_TYPE&#39;</span>,
</span></span><span style="display:flex;"><span>                       <span style="color:#e6db74">&#39;NAME_FAMILY_STATUS&#39;</span>,<span style="color:#e6db74">&#39;NAME_HOUSING_TYPE&#39;</span>,<span style="color:#e6db74">&#39;OCCUPATION_TYPE&#39;</span>,<span style="color:#e6db74">&#39;WEEKDAY_APPR_PROCESS_START&#39;</span>,
</span></span><span style="display:flex;"><span>                       <span style="color:#e6db74">&#39;ORGANIZATION_TYPE&#39;</span>,<span style="color:#e6db74">&#39;FLAG_OWN_CAR&#39;</span>,<span style="color:#e6db74">&#39;FLAG_OWN_REALTY&#39;</span>,<span style="color:#e6db74">&#39;LIVE_CITY_NOT_WORK_CITY&#39;</span>,
</span></span><span style="display:flex;"><span>                       <span style="color:#e6db74">&#39;REG_CITY_NOT_LIVE_CITY&#39;</span>,<span style="color:#e6db74">&#39;REG_CITY_NOT_WORK_CITY&#39;</span>,<span style="color:#e6db74">&#39;REG_REGION_NOT_WORK_REGION&#39;</span>,
</span></span><span style="display:flex;"><span>                       <span style="color:#e6db74">&#39;LIVE_REGION_NOT_WORK_REGION&#39;</span>,<span style="color:#e6db74">&#39;REGION_RATING_CLIENT&#39;</span>,<span style="color:#e6db74">&#39;WEEKDAY_APPR_PROCESS_START&#39;</span>,
</span></span><span style="display:flex;"><span>                       <span style="color:#e6db74">&#39;REGION_RATING_CLIENT_W_CITY&#39;</span>
</span></span><span style="display:flex;"><span>                      ]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> col <span style="color:#f92672">in</span> categorical_columns:
</span></span><span style="display:flex;"><span>    applicationDF[col] <span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>Categorical(applicationDF[col])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># inspecting the column types if the above conversion is reflected</span>
</span></span><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 307511 entries, 0 to 307510
Data columns (total 52 columns):
 #   Column                       Non-Null Count   Dtype   
---  ------                       --------------   -----   
 0   SK_ID_CURR                   307511 non-null  int64   
 1   TARGET                       307511 non-null  int64   
 2   NAME_CONTRACT_TYPE           307511 non-null  category
 3   CODE_GENDER                  307511 non-null  category
 4   FLAG_OWN_CAR                 307511 non-null  category
 5   FLAG_OWN_REALTY              307511 non-null  category
 6   CNT_CHILDREN                 307511 non-null  int64   
 7   AMT_INCOME_TOTAL             307511 non-null  float64 
 8   AMT_CREDIT                   307511 non-null  float64 
 9   AMT_ANNUITY                  307499 non-null  float64 
 10  AMT_GOODS_PRICE              307233 non-null  float64 
 11  NAME_TYPE_SUITE              306219 non-null  category
 12  NAME_INCOME_TYPE             307511 non-null  category
 13  NAME_EDUCATION_TYPE          307511 non-null  category
 14  NAME_FAMILY_STATUS           307511 non-null  category
 15  NAME_HOUSING_TYPE            307511 non-null  category
 16  REGION_POPULATION_RELATIVE   307511 non-null  float64 
 17  DAYS_BIRTH                   307511 non-null  int64   
 18  DAYS_EMPLOYED                307511 non-null  int64   
 19  DAYS_REGISTRATION            307511 non-null  float64 
 20  DAYS_ID_PUBLISH              307511 non-null  int64   
 21  OCCUPATION_TYPE              211120 non-null  category
 22  CNT_FAM_MEMBERS              307509 non-null  float64 
 23  REGION_RATING_CLIENT         307511 non-null  category
 24  REGION_RATING_CLIENT_W_CITY  307511 non-null  category
 25  WEEKDAY_APPR_PROCESS_START   307511 non-null  category
 26  HOUR_APPR_PROCESS_START      307511 non-null  int64   
 27  REG_REGION_NOT_LIVE_REGION   307511 non-null  int64   
 28  REG_REGION_NOT_WORK_REGION   307511 non-null  category
 29  LIVE_REGION_NOT_WORK_REGION  307511 non-null  category
 30  REG_CITY_NOT_LIVE_CITY       307511 non-null  category
 31  REG_CITY_NOT_WORK_CITY       307511 non-null  category
 32  LIVE_CITY_NOT_WORK_CITY      307511 non-null  category
 33  ORGANIZATION_TYPE            307511 non-null  category
 34  OBS_30_CNT_SOCIAL_CIRCLE     306490 non-null  float64 
 35  DEF_30_CNT_SOCIAL_CIRCLE     306490 non-null  float64 
 36  OBS_60_CNT_SOCIAL_CIRCLE     306490 non-null  float64 
 37  DEF_60_CNT_SOCIAL_CIRCLE     306490 non-null  float64 
 38  DAYS_LAST_PHONE_CHANGE       307510 non-null  float64 
 39  FLAG_DOCUMENT_3              307511 non-null  int64   
 40  AMT_REQ_CREDIT_BUREAU_HOUR   265992 non-null  float64 
 41  AMT_REQ_CREDIT_BUREAU_DAY    265992 non-null  float64 
 42  AMT_REQ_CREDIT_BUREAU_WEEK   265992 non-null  float64 
 43  AMT_REQ_CREDIT_BUREAU_MON    265992 non-null  float64 
 44  AMT_REQ_CREDIT_BUREAU_QRT    265992 non-null  float64 
 45  AMT_REQ_CREDIT_BUREAU_YEAR   265992 non-null  float64 
 46  AMT_INCOME_RANGE             307279 non-null  category
 47  AMT_CREDIT_RANGE             307511 non-null  category
 48  AGE                          307511 non-null  int64   
 49  AGE_GROUP                    307511 non-null  category
 50  YEARS_EMPLOYED               307511 non-null  int64   
 51  EMPLOYMENT_YEAR              224233 non-null  category
dtypes: category(23), float64(18), int64(11)
memory usage: 74.8 MB
</code></pre>
<h5 id="442-standardize-values-for-previousdf">4.4.2 Standardize Values for previousDF</h5>
<blockquote>
<p><strong>Strategy for previousDF:</strong></p>
<ul>
<li>Convert <code>DAYS_DECISION</code> from negative to positive values and create categorical bins columns.</li>
<li>Convert loan purpose and a few other columns to categorical.</li>
</ul>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Checking the number of unique values each column possess to identify categorical columns</span>
</span></span><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>nunique()<span style="color:#f92672">.</span>sort_values() 
</span></span></code></pre></div><pre><code>NAME_PRODUCT_TYPE               3
NAME_PAYMENT_TYPE               4
NAME_CONTRACT_TYPE              4
NAME_CLIENT_TYPE                4
NAME_CONTRACT_STATUS            4
NAME_PORTFOLIO                  5
NAME_YIELD_GROUP                5
CHANNEL_TYPE                    8
CODE_REJECT_REASON              9
NAME_SELLER_INDUSTRY           11
PRODUCT_COMBINATION            17
NAME_CASH_LOAN_PURPOSE         25
NAME_GOODS_CATEGORY            28
CNT_PAYMENT                    49
SELLERPLACE_AREA             2097
DAYS_DECISION                2922
AMT_CREDIT                  86803
AMT_GOODS_PRICE             93885
AMT_APPLICATION             93885
SK_ID_CURR                 338857
AMT_ANNUITY                357959
SK_ID_PREV                1670214
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># inspecting the column types if the above conversion is reflected</span>
</span></span><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1670214 entries, 0 to 1670213
Data columns (total 22 columns):
 #   Column                  Non-Null Count    Dtype  
---  ------                  --------------    -----  
 0   SK_ID_PREV              1670214 non-null  int64  
 1   SK_ID_CURR              1670214 non-null  int64  
 2   NAME_CONTRACT_TYPE      1670214 non-null  object 
 3   AMT_ANNUITY             1297979 non-null  float64
 4   AMT_APPLICATION         1670214 non-null  float64
 5   AMT_CREDIT              1670213 non-null  float64
 6   AMT_GOODS_PRICE         1284699 non-null  float64
 7   NAME_CASH_LOAN_PURPOSE  1670214 non-null  object 
 8   NAME_CONTRACT_STATUS    1670214 non-null  object 
 9   DAYS_DECISION           1670214 non-null  int64  
 10  NAME_PAYMENT_TYPE       1670214 non-null  object 
 11  CODE_REJECT_REASON      1670214 non-null  object 
 12  NAME_CLIENT_TYPE        1670214 non-null  object 
 13  NAME_GOODS_CATEGORY     1670214 non-null  object 
 14  NAME_PORTFOLIO          1670214 non-null  object 
 15  NAME_PRODUCT_TYPE       1670214 non-null  object 
 16  CHANNEL_TYPE            1670214 non-null  object 
 17  SELLERPLACE_AREA        1670214 non-null  int64  
 18  NAME_SELLER_INDUSTRY    1670214 non-null  object 
 19  CNT_PAYMENT             1297984 non-null  float64
 20  NAME_YIELD_GROUP        1670214 non-null  object 
 21  PRODUCT_COMBINATION     1669868 non-null  object 
dtypes: float64(5), int64(4), object(13)
memory usage: 280.3+ MB
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Converting negative days to positive days </span>
</span></span><span style="display:flex;"><span>previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>] <span style="color:#f92672">=</span> abs(previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#age group calculation e.g. 388 will be grouped as 300-400</span>
</span></span><span style="display:flex;"><span>previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION_GROUP&#39;</span>] <span style="color:#f92672">=</span> (previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>]<span style="color:#f92672">-</span>(previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>] <span style="color:#f92672">%</span> <span style="color:#ae81ff">400</span>))<span style="color:#f92672">.</span>astype(str)<span style="color:#f92672">+</span><span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">+</span> ((previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>] <span style="color:#f92672">-</span> (previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>] <span style="color:#f92672">%</span> <span style="color:#ae81ff">400</span>)) <span style="color:#f92672">+</span> (previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>] <span style="color:#f92672">%</span> <span style="color:#ae81ff">400</span>) <span style="color:#f92672">+</span> (<span style="color:#ae81ff">400</span> <span style="color:#f92672">-</span> (previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>] <span style="color:#f92672">%</span> <span style="color:#ae81ff">400</span>)))<span style="color:#f92672">.</span>astype(str)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF[<span style="color:#e6db74">&#39;DAYS_DECISION_GROUP&#39;</span>]<span style="color:#f92672">.</span>value_counts(normalize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span></code></pre></div><pre><code>0-400        37.490525
400-800      22.944724
800-1200     12.444753
1200-1600     7.904556
2400-2800     6.297456
1600-2000     5.795784
2000-2400     5.684960
2800-3200     1.437241
Name: DAYS_DECISION_GROUP, dtype: float64
</code></pre>
<blockquote>
<p><strong>Insight:</strong></p>
<p>Almost 37% of loan applicants have applied for a new loan within 0-400 days of the previous loan decision.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Converting Categorical columns from Object to categorical </span>
</span></span><span style="display:flex;"><span>Catgorical_col_p <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;NAME_CASH_LOAN_PURPOSE&#39;</span>,<span style="color:#e6db74">&#39;NAME_CONTRACT_STATUS&#39;</span>,<span style="color:#e6db74">&#39;NAME_PAYMENT_TYPE&#39;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;CODE_REJECT_REASON&#39;</span>,<span style="color:#e6db74">&#39;NAME_CLIENT_TYPE&#39;</span>,<span style="color:#e6db74">&#39;NAME_GOODS_CATEGORY&#39;</span>,<span style="color:#e6db74">&#39;NAME_PORTFOLIO&#39;</span>,
</span></span><span style="display:flex;"><span>                   <span style="color:#e6db74">&#39;NAME_PRODUCT_TYPE&#39;</span>,<span style="color:#e6db74">&#39;CHANNEL_TYPE&#39;</span>,<span style="color:#e6db74">&#39;NAME_SELLER_INDUSTRY&#39;</span>,<span style="color:#e6db74">&#39;NAME_YIELD_GROUP&#39;</span>,<span style="color:#e6db74">&#39;PRODUCT_COMBINATION&#39;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;NAME_CONTRACT_TYPE&#39;</span>,<span style="color:#e6db74">&#39;DAYS_DECISION_GROUP&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> col <span style="color:#f92672">in</span> Catgorical_col_p:
</span></span><span style="display:flex;"><span>    previousDF[col] <span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>Categorical(previousDF[col])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># inspecting the column types after conversion</span>
</span></span><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1670214 entries, 0 to 1670213
Data columns (total 23 columns):
 #   Column                  Non-Null Count    Dtype   
---  ------                  --------------    -----   
 0   SK_ID_PREV              1670214 non-null  int64   
 1   SK_ID_CURR              1670214 non-null  int64   
 2   NAME_CONTRACT_TYPE      1670214 non-null  category
 3   AMT_ANNUITY             1297979 non-null  float64 
 4   AMT_APPLICATION         1670214 non-null  float64 
 5   AMT_CREDIT              1670213 non-null  float64 
 6   AMT_GOODS_PRICE         1284699 non-null  float64 
 7   NAME_CASH_LOAN_PURPOSE  1670214 non-null  category
 8   NAME_CONTRACT_STATUS    1670214 non-null  category
 9   DAYS_DECISION           1670214 non-null  int64   
 10  NAME_PAYMENT_TYPE       1670214 non-null  category
 11  CODE_REJECT_REASON      1670214 non-null  category
 12  NAME_CLIENT_TYPE        1670214 non-null  category
 13  NAME_GOODS_CATEGORY     1670214 non-null  category
 14  NAME_PORTFOLIO          1670214 non-null  category
 15  NAME_PRODUCT_TYPE       1670214 non-null  category
 16  CHANNEL_TYPE            1670214 non-null  category
 17  SELLERPLACE_AREA        1670214 non-null  int64   
 18  NAME_SELLER_INDUSTRY    1670214 non-null  category
 19  CNT_PAYMENT             1297984 non-null  float64 
 20  NAME_YIELD_GROUP        1670214 non-null  category
 21  PRODUCT_COMBINATION     1669868 non-null  category
 22  DAYS_DECISION_GROUP     1670214 non-null  category
dtypes: category(14), float64(5), int64(4)
memory usage: 137.0 MB
</code></pre>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="46-null-value-data-imputation">4.6 Null Value Data Imputation</h4>
<h5 id="461-imputing-null-values-in-applicationdf">4.6.1 Imputing Null Values in applicationDF</h5>
<blockquote>
<p><strong>Strategy for applicationDF:</strong></p>
<ul>
<li>
<p>To impute null values in categorical variables with lower null percentage, <code>mode()</code> is used to impute the most frequent items.</p>
</li>
<li>
<p>To impute null values in categorical variables with higher null percentage, a new category is created.</p>
</li>
<li>
<p>To impute null values in numerical variables with lower null percentage, <code>median()</code> is used.</p>
<ul>
<li>There are no outliers in the columns.</li>
<li>Mean returned decimal values, and median returned whole numbers, and the columns were the number of requests.</li>
</ul>
</li>
</ul>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># checking the null value % of each column in applicationDF dataframe</span>
</span></span><span style="display:flex;"><span>round(applicationDF<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">/</span> applicationDF<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">100.00</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>SK_ID_CURR                      0.00
TARGET                          0.00
NAME_CONTRACT_TYPE              0.00
CODE_GENDER                     0.00
FLAG_OWN_CAR                    0.00
FLAG_OWN_REALTY                 0.00
CNT_CHILDREN                    0.00
AMT_INCOME_TOTAL                0.00
AMT_CREDIT                      0.00
AMT_ANNUITY                     0.00
AMT_GOODS_PRICE                 0.09
NAME_TYPE_SUITE                 0.42
NAME_INCOME_TYPE                0.00
NAME_EDUCATION_TYPE             0.00
NAME_FAMILY_STATUS              0.00
NAME_HOUSING_TYPE               0.00
REGION_POPULATION_RELATIVE      0.00
DAYS_BIRTH                      0.00
DAYS_EMPLOYED                   0.00
DAYS_REGISTRATION               0.00
DAYS_ID_PUBLISH                 0.00
OCCUPATION_TYPE                31.35
CNT_FAM_MEMBERS                 0.00
REGION_RATING_CLIENT            0.00
REGION_RATING_CLIENT_W_CITY     0.00
WEEKDAY_APPR_PROCESS_START      0.00
HOUR_APPR_PROCESS_START         0.00
REG_REGION_NOT_LIVE_REGION      0.00
REG_REGION_NOT_WORK_REGION      0.00
LIVE_REGION_NOT_WORK_REGION     0.00
REG_CITY_NOT_LIVE_CITY          0.00
REG_CITY_NOT_WORK_CITY          0.00
LIVE_CITY_NOT_WORK_CITY         0.00
ORGANIZATION_TYPE               0.00
OBS_30_CNT_SOCIAL_CIRCLE        0.33
DEF_30_CNT_SOCIAL_CIRCLE        0.33
OBS_60_CNT_SOCIAL_CIRCLE        0.33
DEF_60_CNT_SOCIAL_CIRCLE        0.33
DAYS_LAST_PHONE_CHANGE          0.00
FLAG_DOCUMENT_3                 0.00
AMT_REQ_CREDIT_BUREAU_HOUR     13.50
AMT_REQ_CREDIT_BUREAU_DAY      13.50
AMT_REQ_CREDIT_BUREAU_WEEK     13.50
AMT_REQ_CREDIT_BUREAU_MON      13.50
AMT_REQ_CREDIT_BUREAU_QRT      13.50
AMT_REQ_CREDIT_BUREAU_YEAR     13.50
AMT_INCOME_RANGE                0.08
AMT_CREDIT_RANGE                0.00
AGE                             0.00
AGE_GROUP                       0.00
YEARS_EMPLOYED                  0.00
EMPLOYMENT_YEAR                27.08
dtype: float64
</code></pre>
<p>Impute categorical variable &lsquo;NAME_TYPE_SUITE&rsquo; which has lower null percentage(0.42%) with the most frequent category using mode()[0]:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;NAME_TYPE_SUITE&#39;</span>]<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><pre><code>count            306219
unique                7
top       Unaccompanied
freq             248526
Name: NAME_TYPE_SUITE, dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;NAME_TYPE_SUITE&#39;</span>]<span style="color:#f92672">.</span>fillna((applicationDF[<span style="color:#e6db74">&#39;NAME_TYPE_SUITE&#39;</span>]<span style="color:#f92672">.</span>mode()[<span style="color:#ae81ff">0</span>]),inplace <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><p>Impute categorical variable &lsquo;OCCUPATION_TYPE&rsquo; which has higher null percentage(31.35%) with a new category as assigning to any existing category might influence the analysis:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;OCCUPATION_TYPE&#39;</span>] <span style="color:#f92672">=</span> applicationDF[<span style="color:#e6db74">&#39;OCCUPATION_TYPE&#39;</span>]<span style="color:#f92672">.</span>cat<span style="color:#f92672">.</span>add_categories(<span style="color:#e6db74">&#39;Unknown&#39;</span>)
</span></span><span style="display:flex;"><span>applicationDF[<span style="color:#e6db74">&#39;OCCUPATION_TYPE&#39;</span>]<span style="color:#f92672">.</span>fillna(<span style="color:#e6db74">&#39;Unknown&#39;</span>, inplace <span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>) 
</span></span></code></pre></div><p>Impute numerical variables with the median as there are no outliers that can be seen from results of describe() and mean() returns decimal values and these columns represent number of enquiries made which cannot be decimal:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>applicationDF[[<span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_HOUR&#39;</span>,<span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_DAY&#39;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_WEEK&#39;</span>,<span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_MON&#39;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_QRT&#39;</span>,<span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_YEAR&#39;</span>]]<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>Impute with median as mean has decimals and this is number of requests</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>amount <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_HOUR&#39;</span>, <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_DAY&#39;</span>,<span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_WEEK&#39;</span>,<span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_MON&#39;</span>,
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_QRT&#39;</span>,<span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_YEAR&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> col <span style="color:#f92672">in</span> amount:
</span></span><span style="display:flex;"><span>    applicationDF[col]<span style="color:#f92672">.</span>fillna(applicationDF[col]<span style="color:#f92672">.</span>median(),inplace <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># checking the null value % of each column in previousDF dataframe</span>
</span></span><span style="display:flex;"><span>round(applicationDF<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">/</span> previousDF<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">100.00</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>SK_ID_CURR                     0.00
TARGET                         0.00
NAME_CONTRACT_TYPE             0.00
CODE_GENDER                    0.00
FLAG_OWN_CAR                   0.00
FLAG_OWN_REALTY                0.00
CNT_CHILDREN                   0.00
AMT_INCOME_TOTAL               0.00
AMT_CREDIT                     0.00
AMT_ANNUITY                    0.00
AMT_GOODS_PRICE                0.02
NAME_TYPE_SUITE                0.00
NAME_INCOME_TYPE               0.00
NAME_EDUCATION_TYPE            0.00
NAME_FAMILY_STATUS             0.00
NAME_HOUSING_TYPE              0.00
REGION_POPULATION_RELATIVE     0.00
DAYS_BIRTH                     0.00
DAYS_EMPLOYED                  0.00
DAYS_REGISTRATION              0.00
DAYS_ID_PUBLISH                0.00
OCCUPATION_TYPE                0.00
CNT_FAM_MEMBERS                0.00
REGION_RATING_CLIENT           0.00
REGION_RATING_CLIENT_W_CITY    0.00
WEEKDAY_APPR_PROCESS_START     0.00
HOUR_APPR_PROCESS_START        0.00
REG_REGION_NOT_LIVE_REGION     0.00
REG_REGION_NOT_WORK_REGION     0.00
LIVE_REGION_NOT_WORK_REGION    0.00
REG_CITY_NOT_LIVE_CITY         0.00
REG_CITY_NOT_WORK_CITY         0.00
LIVE_CITY_NOT_WORK_CITY        0.00
ORGANIZATION_TYPE              0.00
OBS_30_CNT_SOCIAL_CIRCLE       0.06
DEF_30_CNT_SOCIAL_CIRCLE       0.06
OBS_60_CNT_SOCIAL_CIRCLE       0.06
DEF_60_CNT_SOCIAL_CIRCLE       0.06
DAYS_LAST_PHONE_CHANGE         0.00
FLAG_DOCUMENT_3                0.00
AMT_REQ_CREDIT_BUREAU_HOUR     0.00
AMT_REQ_CREDIT_BUREAU_DAY      0.00
AMT_REQ_CREDIT_BUREAU_WEEK     0.00
AMT_REQ_CREDIT_BUREAU_MON      0.00
AMT_REQ_CREDIT_BUREAU_QRT      0.00
AMT_REQ_CREDIT_BUREAU_YEAR     0.00
AMT_INCOME_RANGE               0.01
AMT_CREDIT_RANGE               0.00
AGE                            0.00
AGE_GROUP                      0.00
YEARS_EMPLOYED                 0.00
EMPLOYMENT_YEAR                4.99
dtype: float64
</code></pre>
<h5 id="insight">Insight:</h5>
<p>We still have few null values in the columns: AMT_GOODS_PRICE, OBS_30_CNT_SOCIAL_CIRCLE, DEF_30_CNT_SOCIAL_CIRCLE, OBS_60_CNT_SOCIAL_CIRCLE, DEF_60_CNT_SOCIAL_CIRCLE. We can ignore as this percentage is very less.</p>
<h5 id="462-imputing-null-values-in-previousdf">4.6.2 Imputing Null Values in previousDF</h5>
<h4 id="strategy-for-applicationdf">Strategy for applicationDF:</h4>
<ol>
<li>To impute null values in numerical column, we analysed the loan status and assigned values.</li>
<li>To impute null values in continuous variables, we plotted the distribution of the columns and used</li>
</ol>
<ul>
<li>median if the distribution is skewed</li>
<li>mode if the distribution pattern is preserved.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># checking the null value % of each column in previousDF dataframe</span>
</span></span><span style="display:flex;"><span>round(previousDF<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">/</span> previousDF<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">100.00</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>SK_ID_PREV                 0.00
SK_ID_CURR                 0.00
NAME_CONTRACT_TYPE         0.00
AMT_ANNUITY               22.29
AMT_APPLICATION            0.00
AMT_CREDIT                 0.00
AMT_GOODS_PRICE           23.08
NAME_CASH_LOAN_PURPOSE     0.00
NAME_CONTRACT_STATUS       0.00
DAYS_DECISION              0.00
NAME_PAYMENT_TYPE          0.00
CODE_REJECT_REASON         0.00
NAME_CLIENT_TYPE           0.00
NAME_GOODS_CATEGORY        0.00
NAME_PORTFOLIO             0.00
NAME_PRODUCT_TYPE          0.00
CHANNEL_TYPE               0.00
SELLERPLACE_AREA           0.00
NAME_SELLER_INDUSTRY       0.00
CNT_PAYMENT               22.29
NAME_YIELD_GROUP           0.00
PRODUCT_COMBINATION        0.02
DAYS_DECISION_GROUP        0.00
dtype: float64
</code></pre>
<p>Impute AMT_ANNUITY with median as the distribution is greatly skewed:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">6</span>))
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>kdeplot(previousDF[<span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>])
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><figure><img src="../../images/36.png"/>
</figure>

<h4 id="insight-1">Insight:</h4>
<p>There is a single peak at the left side of the distribution and it indicates the presence of outliers and hence imputing with mean would not be the right approach and hence imputing with median.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF[<span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>]<span style="color:#f92672">.</span>fillna(previousDF[<span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>]<span style="color:#f92672">.</span>median(),inplace <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><p>Impute AMT_GOODS_PRICE with mode as the distribution is closely similar:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">6</span>))
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>kdeplot(previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>][pd<span style="color:#f92672">.</span>notnull(previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>])])
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><figure><img src="../../images/34.png"/>
</figure>

<p>There are several peaks along the distribution. Let&rsquo;s impute using the mode, mean and median and see if the distribution is still about the same.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>statsDF <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame() <span style="color:#75715e"># new dataframe with columns imputed with mode, median and mean</span>
</span></span><span style="display:flex;"><span>statsDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE_mode&#39;</span>] <span style="color:#f92672">=</span> previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]<span style="color:#f92672">.</span>fillna(previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]<span style="color:#f92672">.</span>mode()[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>statsDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE_median&#39;</span>] <span style="color:#f92672">=</span> previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]<span style="color:#f92672">.</span>fillna(previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]<span style="color:#f92672">.</span>median())
</span></span><span style="display:flex;"><span>statsDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE_mean&#39;</span>] <span style="color:#f92672">=</span> previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]<span style="color:#f92672">.</span>fillna(previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]<span style="color:#f92672">.</span>mean())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cols <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;AMT_GOODS_PRICE_mode&#39;</span>, <span style="color:#e6db74">&#39;AMT_GOODS_PRICE_median&#39;</span>,<span style="color:#e6db74">&#39;AMT_GOODS_PRICE_mean&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">10</span>))
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>suptitle(<span style="color:#e6db74">&#39;Distribution of Original data vs imputed data&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">221</span>)
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>distplot(previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>][pd<span style="color:#f92672">.</span>notnull(previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>])]);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> enumerate(cols): 
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>,i[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>distplot(statsDF[i[<span style="color:#ae81ff">1</span>]])
</span></span></code></pre></div><figure><img src="../../images/33.png"/>
</figure>

<h5 id="insight-2">Insight:</h5>
<p>The original distribution is closer with the distribution of data imputed with mode in this case</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]<span style="color:#f92672">.</span>fillna(previousDF[<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]<span style="color:#f92672">.</span>mode()[<span style="color:#ae81ff">0</span>], inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF<span style="color:#f92672">.</span>loc[previousDF[<span style="color:#e6db74">&#39;CNT_PAYMENT&#39;</span>]<span style="color:#f92672">.</span>isnull(),<span style="color:#e6db74">&#39;NAME_CONTRACT_STATUS&#39;</span>]<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code>Canceled        305805
Refused          40897
Unused offer     25524
Approved             4
Name: NAME_CONTRACT_STATUS, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF[<span style="color:#e6db74">&#39;CNT_PAYMENT&#39;</span>]<span style="color:#f92672">.</span>fillna(<span style="color:#ae81ff">0</span>,inplace <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># checking the null value % of each column in previousDF dataframe</span>
</span></span><span style="display:flex;"><span>round(previousDF<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">/</span> previousDF<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">100.00</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>SK_ID_PREV                0.00
SK_ID_CURR                0.00
NAME_CONTRACT_TYPE        0.00
AMT_ANNUITY               0.00
AMT_APPLICATION           0.00
AMT_CREDIT                0.00
AMT_GOODS_PRICE           0.00
NAME_CASH_LOAN_PURPOSE    0.00
NAME_CONTRACT_STATUS      0.00
DAYS_DECISION             0.00
NAME_PAYMENT_TYPE         0.00
CODE_REJECT_REASON        0.00
NAME_CLIENT_TYPE          0.00
NAME_GOODS_CATEGORY       0.00
NAME_PORTFOLIO            0.00
NAME_PRODUCT_TYPE         0.00
CHANNEL_TYPE              0.00
SELLERPLACE_AREA          0.00
NAME_SELLER_INDUSTRY      0.00
CNT_PAYMENT               0.00
NAME_YIELD_GROUP          0.00
PRODUCT_COMBINATION       0.02
DAYS_DECISION_GROUP       0.00
dtype: float64
</code></pre>
<h4 id="insight-3">Insight:</h4>
<p>We still have few null values in the PRODUCT_COMBINATION column. We can ignore as this percentage is very less.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="47-identifying-the-outliers">4.7 Identifying the outliers</h4>
<p>Finding outlier information in applicationDF</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">10</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app_outlier_col_1 <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>,<span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>,<span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>,<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>,<span style="color:#e6db74">&#39;DAYS_EMPLOYED&#39;</span>]
</span></span><span style="display:flex;"><span>app_outlier_col_2 <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;CNT_CHILDREN&#39;</span>,<span style="color:#e6db74">&#39;DAYS_BIRTH&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> enumerate(app_outlier_col_1):
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>,i[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>boxplot(y<span style="color:#f92672">=</span>applicationDF[i[<span style="color:#ae81ff">1</span>]])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(i[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> enumerate(app_outlier_col_2):
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>,i[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>boxplot(y<span style="color:#f92672">=</span>applicationDF[i[<span style="color:#ae81ff">1</span>]])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(i[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span></code></pre></div><figure><img src="../../images/32.png"/>
</figure>

<h4 id="insight-4">Insight:</h4>
<p>It can be seen that in current application data</p>
<ol>
<li>AMT_ANNUITY, AMT_CREDIT, AMT_GOODS_PRICE,CNT_CHILDREN have some number of outliers.</li>
<li>AMT_INCOME_TOTAL has huge number of outliers which indicate that few of the loan applicants have high income when compared to the others.</li>
<li>DAYS_BIRTH has no outliers which means the data available is reliable.</li>
<li>DAYS_EMPLOYED has outlier values around 350000(days) which is around 958 years which is impossible and hence this has to be incorrect entry.</li>
</ol>
<p>We can see the stats for these columns below as well.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>applicationDF[[<span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>, <span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>, <span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>, <span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>, <span style="color:#e6db74">&#39;DAYS_BIRTH&#39;</span>,<span style="color:#e6db74">&#39;CNT_CHILDREN&#39;</span>,<span style="color:#e6db74">&#39;DAYS_EMPLOYED&#39;</span>]]<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>Finding outlier information in previousDF</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">8</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>prev_outlier_col_1 <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>,<span style="color:#e6db74">&#39;AMT_APPLICATION&#39;</span>,<span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>,<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>,<span style="color:#e6db74">&#39;SELLERPLACE_AREA&#39;</span>]
</span></span><span style="display:flex;"><span>prev_outlier_col_2 <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;SK_ID_CURR&#39;</span>,<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>,<span style="color:#e6db74">&#39;CNT_PAYMENT&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> enumerate(prev_outlier_col_1):
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>,i[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>boxplot(y<span style="color:#f92672">=</span>previousDF[i[<span style="color:#ae81ff">1</span>]])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(i[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> enumerate(prev_outlier_col_2):
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>,i[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>boxplot(y<span style="color:#f92672">=</span>previousDF[i[<span style="color:#ae81ff">1</span>]])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(i[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;&#34;</span>) 
</span></span></code></pre></div><figure><img src="../../images/31.png"/>
</figure>

<p><strong>Insight:</strong>
It can be seen that in the current application data:</p>
<ol>
<li>AMT_ANNUITY, AMT_CREDIT, AMT_GOODS_PRICE, CNT_CHILDREN have some number of outliers.</li>
<li>AMT_INCOME_TOTAL has a huge number of outliers which indicate that few of the loan applicants have high income when compared to the others.</li>
<li>DAYS_BIRTH has no outliers which means the data available is reliable.</li>
<li>DAYS_EMPLOYED has outlier values around 350,000 (days) which is around 958 years, which is impossible and hence this has to be an incorrect entry.</li>
</ol>
<p>We can see the stats for these columns below as well.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>previousDF[[<span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>, <span style="color:#e6db74">&#39;AMT_APPLICATION&#39;</span>, <span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>, <span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>, <span style="color:#e6db74">&#39;SELLERPLACE_AREA&#39;</span>,<span style="color:#e6db74">&#39;CNT_PAYMENT&#39;</span>,<span style="color:#e6db74">&#39;DAYS_DECISION&#39;</span>]]<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="5-data-analysis">5. Data Analysis</h3>
<p><strong>Strategy:</strong>
The data analysis flow has been planned in the following way:</p>
<ol>
<li>Imbalance in Data</li>
<li>Categorical Data Analysis
<ul>
<li>Categorical Segmented Univariate Analysis</li>
<li>Categorical Bi/Multivariate Analysis</li>
</ul>
</li>
<li>Numeric Data Analysis
<ul>
<li>Bi-furcation of data based on TARGET data</li>
<li>Correlation Matrix</li>
<li>Numerical Segmented Univariate Analysis</li>
<li>Numerical Bi/Multivariate Analysis</li>
</ul>
</li>
</ol>
<h4 id="51-imbalance-analysis">5.1 Imbalance Analysis</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Imbalance <span style="color:#f92672">=</span> applicationDF[<span style="color:#e6db74">&#34;TARGET&#34;</span>]<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">4</span>))
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;Repayer&#39;</span>,<span style="color:#e6db74">&#39;Defaulter&#39;</span>]
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>barplot(x,<span style="color:#e6db74">&#34;TARGET&#34;</span>,data <span style="color:#f92672">=</span> Imbalance,palette<span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;g&#39;</span>,<span style="color:#e6db74">&#39;r&#39;</span>])
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#34;Loan Repayment Status&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;Count of Repayers &amp; Defaulters&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#34;Imbalance Plotting&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><figure><img src="../../images/30.png"/>
</figure>

<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>count_0 <span style="color:#f92672">=</span> Imbalance<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#34;TARGET&#34;</span>]
</span></span><span style="display:flex;"><span>count_1 <span style="color:#f92672">=</span> Imbalance<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">1</span>][<span style="color:#e6db74">&#34;TARGET&#34;</span>]
</span></span><span style="display:flex;"><span>count_0_perc <span style="color:#f92672">=</span> round(count_0<span style="color:#f92672">/</span>(count_0<span style="color:#f92672">+</span>count_1)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>,<span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>count_1_perc <span style="color:#f92672">=</span> round(count_1<span style="color:#f92672">/</span>(count_0<span style="color:#f92672">+</span>count_1)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>,<span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;Ratios of imbalance in percentage with respect to Repayer and Defaulter datas are: </span><span style="color:#e6db74">%.2f</span><span style="color:#e6db74"> and </span><span style="color:#e6db74">%.2f</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">%</span>(count_0_perc,count_1_perc))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;Ratios of imbalance in relative with respect to Repayer and Defaulter datas is </span><span style="color:#e6db74">%.2f</span><span style="color:#e6db74"> : 1 (approx)&#39;</span><span style="color:#f92672">%</span>(count_0<span style="color:#f92672">/</span>count_1))
</span></span></code></pre></div><pre><code>Ratios of imbalance in percentage with respect to Repayer and Defaulter datas are: 91.93 and 8.07
Ratios of imbalance in relative with respect to Repayer and Defaulter datas is 11.39 : 1 (approx)
</code></pre>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="52-plotting-functions">5.2 Plotting Functions</h4>
<p>Following are the common functions customized to perform uniform analysis that is called for all plots:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># function for plotting repetitive countplots in univariate categorical analysis on applicationDF</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This function will create two subplots: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1. Count plot of categorical column w.r.t TARGET; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. Percentage of defaulters within column</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">univariate_categorical</span>(feature,ylog<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>,label_rotation<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>,horizontal_layout<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>):
</span></span><span style="display:flex;"><span>    temp <span style="color:#f92672">=</span> applicationDF[feature]<span style="color:#f92672">.</span>value_counts()
</span></span><span style="display:flex;"><span>    df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({feature: temp<span style="color:#f92672">.</span>index,<span style="color:#e6db74">&#39;Number of contracts&#39;</span>: temp<span style="color:#f92672">.</span>values})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Calculate the percentage of target=1 per category value</span>
</span></span><span style="display:flex;"><span>    cat_perc <span style="color:#f92672">=</span> applicationDF[[feature, <span style="color:#e6db74">&#39;TARGET&#39;</span>]]<span style="color:#f92672">.</span>groupby([feature],as_index<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>    cat_perc[<span style="color:#e6db74">&#34;TARGET&#34;</span>] <span style="color:#f92672">=</span> cat_perc[<span style="color:#e6db74">&#34;TARGET&#34;</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>    cat_perc<span style="color:#f92672">.</span>sort_values(by<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;TARGET&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(horizontal_layout):
</span></span><span style="display:flex;"><span>        fig, (ax1, ax2) <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(ncols<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">6</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        fig, (ax1, ax2) <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(nrows<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">24</span>))
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 1. Subplot 1: Count plot of categorical column</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># sns.set_palette(&#34;Set2&#34;)</span>
</span></span><span style="display:flex;"><span>    s <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>countplot(ax<span style="color:#f92672">=</span>ax1, 
</span></span><span style="display:flex;"><span>                    x <span style="color:#f92672">=</span> feature, 
</span></span><span style="display:flex;"><span>                    data<span style="color:#f92672">=</span>applicationDF,
</span></span><span style="display:flex;"><span>                    hue <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;TARGET&#34;</span>,
</span></span><span style="display:flex;"><span>                    order<span style="color:#f92672">=</span>cat_perc[feature],
</span></span><span style="display:flex;"><span>                    palette<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;g&#39;</span>,<span style="color:#e6db74">&#39;r&#39;</span>])
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Define common styling</span>
</span></span><span style="display:flex;"><span>    ax1<span style="color:#f92672">.</span>set_title(feature, fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>}) 
</span></span><span style="display:flex;"><span>    ax1<span style="color:#f92672">.</span>legend([<span style="color:#e6db74">&#39;Repayer&#39;</span>,<span style="color:#e6db74">&#39;Defaulter&#39;</span>])
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># If the plot is not readable, use the log scale.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ylog:
</span></span><span style="display:flex;"><span>        ax1<span style="color:#f92672">.</span>set_yscale(<span style="color:#e6db74">&#39;log&#39;</span>)
</span></span><span style="display:flex;"><span>        ax1<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#34;Count (log)&#34;</span>,fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>})   
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(label_rotation):
</span></span><span style="display:flex;"><span>        s<span style="color:#f92672">.</span>set_xticklabels(s<span style="color:#f92672">.</span>get_xticklabels(),rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 2. Subplot 2: Percentage of defaulters within the categorical column</span>
</span></span><span style="display:flex;"><span>    s <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>barplot(ax<span style="color:#f92672">=</span>ax2, 
</span></span><span style="display:flex;"><span>                    x <span style="color:#f92672">=</span> feature, 
</span></span><span style="display:flex;"><span>                    y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;TARGET&#39;</span>, 
</span></span><span style="display:flex;"><span>                    order<span style="color:#f92672">=</span>cat_perc[feature], 
</span></span><span style="display:flex;"><span>                    data<span style="color:#f92672">=</span>cat_perc,
</span></span><span style="display:flex;"><span>                    palette<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Set2&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(label_rotation):
</span></span><span style="display:flex;"><span>        s<span style="color:#f92672">.</span>set_xticklabels(s<span style="color:#f92672">.</span>get_xticklabels(),rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;Percent of Defaulters [%]&#39;</span>, fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>tick_params(axis<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;both&#39;</span>, which<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;major&#39;</span>, labelsize<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    ax2<span style="color:#f92672">.</span>set_title(feature <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; Defaulter %&#34;</span>, fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">15</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>}) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show();
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># function for plotting repetitive countplots in bivariate categorical analysis</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bivariate_bar</span>(x,y,df,hue,figsize):
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>figsize)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>barplot(x<span style="color:#f92672">=</span>x,
</span></span><span style="display:flex;"><span>                  y<span style="color:#f92672">=</span>y,
</span></span><span style="display:flex;"><span>                  data<span style="color:#f92672">=</span>df, 
</span></span><span style="display:flex;"><span>                  hue<span style="color:#f92672">=</span>hue, 
</span></span><span style="display:flex;"><span>                  palette <span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;g&#39;</span>,<span style="color:#e6db74">&#39;r&#39;</span>])     
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Defining aesthetics of Labels and Title of the plot using style dictionaries</span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>xlabel(x,fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>})    
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>ylabel(y,fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>})    
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(col, fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">15</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>}) 
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>xticks(rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>, ha<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;right&#39;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>legend(labels <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;Repayer&#39;</span>,<span style="color:#e6db74">&#39;Defaulter&#39;</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># function for plotting repetitive rel plots in bivaritae numerical analysis on applicationDF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bivariate_rel</span>(x,y,data, hue, kind, palette, legend,figsize):
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>figsize)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>relplot(x<span style="color:#f92672">=</span>x, 
</span></span><span style="display:flex;"><span>                y<span style="color:#f92672">=</span>y, 
</span></span><span style="display:flex;"><span>                data<span style="color:#f92672">=</span>applicationDF, 
</span></span><span style="display:flex;"><span>                hue<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;TARGET&#34;</span>,
</span></span><span style="display:flex;"><span>                kind<span style="color:#f92672">=</span>kind,
</span></span><span style="display:flex;"><span>                palette <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;g&#39;</span>,<span style="color:#e6db74">&#39;r&#39;</span>],
</span></span><span style="display:flex;"><span>                legend <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>legend([<span style="color:#e6db74">&#39;Repayer&#39;</span>,<span style="color:#e6db74">&#39;Defaulter&#39;</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>xticks(rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>, ha<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;right&#39;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#function for plotting repetitive countplots in univariate categorical analysis on the merged df</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">univariate_merged</span>(col,df,hue,palette,ylog,figsize):
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>figsize)
</span></span><span style="display:flex;"><span>    ax<span style="color:#f92672">=</span>sns<span style="color:#f92672">.</span>countplot(x<span style="color:#f92672">=</span>col, 
</span></span><span style="display:flex;"><span>                  data<span style="color:#f92672">=</span>df,
</span></span><span style="display:flex;"><span>                  hue<span style="color:#f92672">=</span> hue,
</span></span><span style="display:flex;"><span>                  palette<span style="color:#f92672">=</span> palette,
</span></span><span style="display:flex;"><span>                  order<span style="color:#f92672">=</span>df[col]<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>index)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ylog:
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>yscale(<span style="color:#e6db74">&#39;log&#39;</span>)
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;Count (log)&#34;</span>,fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>})     
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;Count&#34;</span>,fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>})       
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(col , fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">15</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>}) 
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>legend(loc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;upper right&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>xticks(rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>, ha<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;right&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Function to plot point plots on merged dataframe</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">merged_pointplot</span>(x,y):
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">4</span>))
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>pointplot(x<span style="color:#f92672">=</span>x, 
</span></span><span style="display:flex;"><span>                  y<span style="color:#f92672">=</span>y, 
</span></span><span style="display:flex;"><span>                  hue<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;TARGET&#34;</span>, 
</span></span><span style="display:flex;"><span>                  data<span style="color:#f92672">=</span>loan_process_df,
</span></span><span style="display:flex;"><span>                  palette <span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;g&#39;</span>,<span style="color:#e6db74">&#39;r&#39;</span>])
</span></span><span style="display:flex;"><span>   <span style="color:#75715e"># plt.legend([&#39;Repayer&#39;,&#39;Defaulter&#39;])</span>
</span></span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="53-categorical-variables-analysis">5.3 Categorical Variables Analysis</h4>
<h5 id="531-segmented-univariate-analysis">5.3.1 Segmented Univariate Analysis</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking the contract type based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#39;NAME_CONTRACT_TYPE&#39;</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/29.png"/>
</figure>

<p><strong>Inferences:</strong>
Contract type: Revolving loans are just a small fraction (10%) from the total number of loans; in the same time, a larger amount of Revolving loans, comparing with their frequency, are not repaid.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking the type of Gender on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#39;CODE_GENDER&#39;</span>)
</span></span></code></pre></div><figure><img src="../../images/28.png"/>
</figure>

<p><strong>Inferences:</strong>
The number of female clients is almost double the number of male clients. Based on the percentage of defaulted credits, males have a higher chance of not returning their loans (~10%), comparing with women (~7%).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking if owning a car is related to loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#39;FLAG_OWN_CAR&#39;</span>)
</span></span></code></pre></div><figure><img src="../../images/27.png"/>
</figure>

<p><strong>Inferences:</strong>
Clients who own a car are half in number compared to the clients who don&rsquo;t own a car. However, based on the percentage of default, there is no correlation between owning a car and loan repayment, as in both cases the default percentage is almost the same.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking if owning a realty is related to loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#39;FLAG_OWN_REALTY&#39;</span>)
</span></span></code></pre></div><figure><img src="../../images/26.png"/>
</figure>

<p><strong>Inferences:</strong>
The clients who own real estate are more than double those who don&rsquo;t own. However, the defaulting rate for both categories is around the same (~8%). Thus, there is no correlation between owning real estate and defaulting on the loan.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Housing Type based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;NAME_HOUSING_TYPE&#34;</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/25.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>Majority of people live in House/apartment.</li>
<li>People living in office apartments have the lowest default rate.</li>
<li>People living with parents (~11.5%) and living in rented apartments (&gt;12%) have a higher probability of defaulting.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Family status based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;NAME_FAMILY_STATUS&#34;</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/24.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>Majority of people live in House/apartment.</li>
<li>People living in office apartments have the lowest default rate.</li>
<li>People living with parents (~11.5%) and living in rented apartments (&gt;12%) have a higher probability of defaulting.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Education Type based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;NAME_EDUCATION_TYPE&#34;</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/23.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>Majority of the clients have Secondary / secondary special education, followed by clients with Higher education. Only a very small number have an academic degree.</li>
<li>The Lower secondary category, although rare, has the largest rate of not returning the loan (11%). The people with an Academic degree have less than a 2% defaulting rate.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Income Type based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;NAME_INCOME_TYPE&#34;</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><figure><img src="../../images/22.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ul>
<li>Most applicants for loans have income type as Working, followed by Commercial associate, Pensioner, and State servant.</li>
<li>Applicants with the type of income Maternity leave have almost a 40% ratio of not returning loans, followed by Unemployed (37%). The rest of the types of incomes are under the average of 10% for not returning loans.</li>
<li>Student and Businessmen, though less in numbers, do not have any default record. Thus, these two categories are <strong>safest</strong> for providing loans.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Region rating where applicant lives based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;REGION_RATING_CLIENT&#34;</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/21.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>Most of the applicants are living in Region_Rating 2 places.</li>
<li>Region Rating 3 has the highest default rate (11%).</li>
<li>Applicants living in Region_Rating 1 have the lowest probability of defaulting, thus <strong>safer</strong> for approving loans.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Occupation Type where applicant lives based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;OCCUPATION_TYPE&#34;</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><figure><img src="../../images/20.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>Most of the loans are taken by Laborers, followed by Sales staff. IT staff take the lowest amount of loans.</li>
<li>The category with the highest percent of not repaid loans are Low-skill Laborers (above 17%), followed by Drivers and Waiters/barmen staff, Security staff, Laborers, and Cooking staff.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking Loan repayment status based on Organization type</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;ORGANIZATION_TYPE&#34;</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">True</span>,<span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><figure><img src="../../images/19.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>Organizations with the highest percent of loans not repaid are Transport: type 3 (16%), Industry: type 13 (13.5%), Industry: type 8 (12.5%), and Restaurant (less than 12%). Self-employed people have a relatively high defaulting rate, and thus should be avoided to be approved for a loan or provide a loan with a higher interest rate to mitigate the risk of defaulting.</li>
<li>Most people applying for a loan are from Business Entity Type 3.</li>
<li>For a very high number of applications, Organization type information is unavailable (XNA).</li>
<li>The following categories of organization type have fewer defaulters, thus safer for providing loans:
<ul>
<li>Trade Type 4 and 5</li>
<li>Industry type 8</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Flag_Doc_3 submission status based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;FLAG_DOCUMENT_3&#34;</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/18.png"/>
</figure>

<p><strong>Inferences:</strong>
There is no significant correlation between repayers and defaulters in terms of submitting document 3, as we see even if applicants have submitted the document, they have defaulted slightly more (~9%) than those who have not submitted the document (6%).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Age Group based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;AGE_GROUP&#34;</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/17.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>People in the age group range 20-40 have a higher probability of defaulting.</li>
<li>People above the age of 50 have a low probability of defaulting.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Employment_Year based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;EMPLOYMENT_YEAR&#34;</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/16.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>The majority of applicants have been employed for 0-5 years, and the default rate for this group is the highest at 10%.</li>
<li>With an increase in the number of employment years, the defaulting rate gradually decreases, and people with 40+ years of experience have less than a 1% default rate.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Amount_Credit based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;AMT_CREDIT_RANGE&#34;</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><figure><img src="../../images/15.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ol>
<li>More than 80% of the loans provided are for amounts less than 900,000.</li>
<li>People who get loans for 300-600k tend to default more than others.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Amount_Income Range based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;AMT_INCOME_RANGE&#34;</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">False</span>,<span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><figure><img src="../../images/14.png"/>
</figure>

<h4 id="inferences">Inferences:</h4>
<ol>
<li>90% of the applications have Income total less than 300,000</li>
<li>Application with Income less than 300,000 has high probability of defaulting</li>
<li>SApplicant with Income more than 700,000 are less likely to default</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Number of children based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;CNT_CHILDREN&#34;</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><figure><img src="../../images/13.png"/>
</figure>

<h4 id="inferences-1">Inferences:</h4>
<ul>
<li>1.Most of the applicants do not have children</li>
<li>2.Very few clients have more than 3 children.</li>
<li>3.Client who have more than 4 children has a very high default rate with child count 9 and 11 showing 100% default rate</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Analyzing Number of family members based on loan repayment status</span>
</span></span><span style="display:flex;"><span>univariate_categorical(<span style="color:#e6db74">&#34;CNT_FAM_MEMBERS&#34;</span>,<span style="color:#66d9ef">True</span>, <span style="color:#66d9ef">False</span>, <span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><figure><img src="../../images/12.png"/>
</figure>

<h4 id="inferences-2">Inferences:</h4>
<p>Family member follows the same trend as children where having more family members increases the risk of defaulting</p>
<h5 id="532-categorical-bimultivariate-analysis">5.3.2 Categorical Bi/Multivariate Analysis</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;NAME_INCOME_TYPE&#39;</span>)[<span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>]<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Income type vs Income Amount Range</span>
</span></span><span style="display:flex;"><span>bivariate_bar(<span style="color:#e6db74">&#34;NAME_INCOME_TYPE&#34;</span>,<span style="color:#e6db74">&#34;AMT_INCOME_TOTAL&#34;</span>,applicationDF,<span style="color:#e6db74">&#34;TARGET&#34;</span>,(<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">10</span>))
</span></span></code></pre></div><figure><img src="../../images/11.png"/>
</figure>

<h4 id="inferences-3">Inferences:</h4>
<p>It can be seen that business man&rsquo;s income is the highest and the estimated range with default 95% confidence level seem to indicate that the income of a business man could be in the range of slightly close to 4 lakhs and slightly above 10 lakhs</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h4 id="54-numeric-variables-analysis">5.4 Numeric Variables Analysis</h4>
<h5 id="541-bifurcating-the-applicationdf-dataframe-based-on-target-value-0-and-1-for-correlation-and-other-analysis">5.4.1 Bifurcating the applicationDF dataframe based on Target value 0 and 1 for correlation and other analysis</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>applicationDF<span style="color:#f92672">.</span>columns
</span></span></code></pre></div><pre><code>Index(['SK_ID_CURR', 'TARGET', 'NAME_CONTRACT_TYPE', 'CODE_GENDER', 'FLAG_OWN_CAR', 'FLAG_OWN_REALTY', 'CNT_CHILDREN', 'AMT_INCOME_TOTAL', 'AMT_CREDIT', 'AMT_ANNUITY', 'AMT_GOODS_PRICE', 'NAME_TYPE_SUITE', 'NAME_INCOME_TYPE', 'NAME_EDUCATION_TYPE', 'NAME_FAMILY_STATUS', 'NAME_HOUSING_TYPE', 'REGION_POPULATION_RELATIVE', 'DAYS_BIRTH', 'DAYS_EMPLOYED', 'DAYS_REGISTRATION', 'DAYS_ID_PUBLISH', 'OCCUPATION_TYPE', 'CNT_FAM_MEMBERS', 'REGION_RATING_CLIENT', 'REGION_RATING_CLIENT_W_CITY', 'WEEKDAY_APPR_PROCESS_START', 'HOUR_APPR_PROCESS_START', 'REG_REGION_NOT_LIVE_REGION', 'REG_REGION_NOT_WORK_REGION', 'LIVE_REGION_NOT_WORK_REGION', 'REG_CITY_NOT_LIVE_CITY', 'REG_CITY_NOT_WORK_CITY', 'LIVE_CITY_NOT_WORK_CITY', 'ORGANIZATION_TYPE', 'OBS_30_CNT_SOCIAL_CIRCLE', 'DEF_30_CNT_SOCIAL_CIRCLE', 'OBS_60_CNT_SOCIAL_CIRCLE', 'DEF_60_CNT_SOCIAL_CIRCLE', 'DAYS_LAST_PHONE_CHANGE', 'FLAG_DOCUMENT_3', 'AMT_REQ_CREDIT_BUREAU_HOUR', 'AMT_REQ_CREDIT_BUREAU_DAY', 'AMT_REQ_CREDIT_BUREAU_WEEK',
       'AMT_REQ_CREDIT_BUREAU_MON', 'AMT_REQ_CREDIT_BUREAU_QRT', 'AMT_REQ_CREDIT_BUREAU_YEAR', 'AMT_INCOME_RANGE', 'AMT_CREDIT_RANGE', 'AGE', 'AGE_GROUP', 'YEARS_EMPLOYED', 'EMPLOYMENT_YEAR'],
      dtype='object')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Bifurcating the applicationDF dataframe based on Target value 0 and 1 for correlation and other analysis</span>
</span></span><span style="display:flex;"><span>cols_for_correlation <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;NAME_CONTRACT_TYPE&#39;</span>, <span style="color:#e6db74">&#39;CODE_GENDER&#39;</span>, <span style="color:#e6db74">&#39;FLAG_OWN_CAR&#39;</span>, <span style="color:#e6db74">&#39;FLAG_OWN_REALTY&#39;</span>, 
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;CNT_CHILDREN&#39;</span>, <span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>, <span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>, <span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>, <span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>, 
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;NAME_TYPE_SUITE&#39;</span>, <span style="color:#e6db74">&#39;NAME_INCOME_TYPE&#39;</span>, <span style="color:#e6db74">&#39;NAME_EDUCATION_TYPE&#39;</span>, <span style="color:#e6db74">&#39;NAME_FAMILY_STATUS&#39;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;NAME_HOUSING_TYPE&#39;</span>, <span style="color:#e6db74">&#39;REGION_POPULATION_RELATIVE&#39;</span>, <span style="color:#e6db74">&#39;DAYS_BIRTH&#39;</span>, <span style="color:#e6db74">&#39;DAYS_EMPLOYED&#39;</span>, 
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;DAYS_REGISTRATION&#39;</span>, <span style="color:#e6db74">&#39;DAYS_ID_PUBLISH&#39;</span>, <span style="color:#e6db74">&#39;OCCUPATION_TYPE&#39;</span>, <span style="color:#e6db74">&#39;CNT_FAM_MEMBERS&#39;</span>, <span style="color:#e6db74">&#39;REGION_RATING_CLIENT&#39;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;REGION_RATING_CLIENT_W_CITY&#39;</span>, <span style="color:#e6db74">&#39;WEEKDAY_APPR_PROCESS_START&#39;</span>, <span style="color:#e6db74">&#39;HOUR_APPR_PROCESS_START&#39;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;REG_REGION_NOT_LIVE_REGION&#39;</span>, <span style="color:#e6db74">&#39;REG_REGION_NOT_WORK_REGION&#39;</span>, <span style="color:#e6db74">&#39;LIVE_REGION_NOT_WORK_REGION&#39;</span>, 
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;REG_CITY_NOT_LIVE_CITY&#39;</span>, <span style="color:#e6db74">&#39;REG_CITY_NOT_WORK_CITY&#39;</span>, <span style="color:#e6db74">&#39;LIVE_CITY_NOT_WORK_CITY&#39;</span>, <span style="color:#e6db74">&#39;ORGANIZATION_TYPE&#39;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;OBS_60_CNT_SOCIAL_CIRCLE&#39;</span>, <span style="color:#e6db74">&#39;DEF_60_CNT_SOCIAL_CIRCLE&#39;</span>, <span style="color:#e6db74">&#39;DAYS_LAST_PHONE_CHANGE&#39;</span>, <span style="color:#e6db74">&#39;FLAG_DOCUMENT_3&#39;</span>, 
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_HOUR&#39;</span>, <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_DAY&#39;</span>, <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_WEEK&#39;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_MON&#39;</span>, <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_QRT&#39;</span>, <span style="color:#e6db74">&#39;AMT_REQ_CREDIT_BUREAU_YEAR&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Repayer_df <span style="color:#f92672">=</span> applicationDF<span style="color:#f92672">.</span>loc[applicationDF[<span style="color:#e6db74">&#39;TARGET&#39;</span>]<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>, cols_for_correlation] <span style="color:#75715e"># Repayers</span>
</span></span><span style="display:flex;"><span>Defaulter_df <span style="color:#f92672">=</span> applicationDF<span style="color:#f92672">.</span>loc[applicationDF[<span style="color:#e6db74">&#39;TARGET&#39;</span>]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>, cols_for_correlation] <span style="color:#75715e"># Defaulters</span>
</span></span></code></pre></div><h5 id="542-correlation-between-numeric-variable">5.4.2 Correlation between numeric variable</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Getting the top 10 correlation for the Repayers data</span>
</span></span><span style="display:flex;"><span>corr_repayer <span style="color:#f92672">=</span> Repayer_df<span style="color:#f92672">.</span>corr()
</span></span><span style="display:flex;"><span>corr_repayer <span style="color:#f92672">=</span> corr_repayer<span style="color:#f92672">.</span>where(np<span style="color:#f92672">.</span>triu(np<span style="color:#f92672">.</span>ones(corr_repayer<span style="color:#f92672">.</span>shape),k<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>bool))
</span></span><span style="display:flex;"><span>corr_df_repayer <span style="color:#f92672">=</span> corr_repayer<span style="color:#f92672">.</span>unstack()<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span>corr_df_repayer<span style="color:#f92672">.</span>columns <span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;VAR1&#39;</span>,<span style="color:#e6db74">&#39;VAR2&#39;</span>,<span style="color:#e6db74">&#39;Correlation&#39;</span>]
</span></span><span style="display:flex;"><span>corr_df_repayer<span style="color:#f92672">.</span>dropna(subset <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Correlation&#34;</span>], inplace <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>corr_df_repayer[<span style="color:#e6db74">&#34;Correlation&#34;</span>]<span style="color:#f92672">=</span>corr_df_repayer[<span style="color:#e6db74">&#34;Correlation&#34;</span>]<span style="color:#f92672">.</span>abs() 
</span></span><span style="display:flex;"><span>corr_df_repayer<span style="color:#f92672">.</span>sort_values(by<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Correlation&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>) 
</span></span><span style="display:flex;"><span>corr_df_repayer<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">12</span>))
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>heatmap(Repayer_df<span style="color:#f92672">.</span>corr(), cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;RdYlGn&#34;</span>,annot<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>,linewidth <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><figure><img src="../../images/10.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ul>
<li>
<p><em>Correlating factors amongst repayers:</em></p>
</li>
<li>
<p><em>Credit amount is highly correlated with</em></p>
</li>
<li>
<p>1.amount of goods price</p>
</li>
<li>
<p>2.loan annuity</p>
</li>
<li>
<p>3.total income</p>
</li>
</ul>
<p>We can also see that repayers have high correlation in number of days</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Getting the top 10 correlation for the Defaulter data</span>
</span></span><span style="display:flex;"><span>corr_Defaulter <span style="color:#f92672">=</span> Defaulter_df<span style="color:#f92672">.</span>corr()
</span></span><span style="display:flex;"><span>corr_Defaulter <span style="color:#f92672">=</span> corr_Defaulter<span style="color:#f92672">.</span>where(np<span style="color:#f92672">.</span>triu(np<span style="color:#f92672">.</span>ones(corr_Defaulter<span style="color:#f92672">.</span>shape),k<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>bool))
</span></span><span style="display:flex;"><span>corr_df_Defaulter <span style="color:#f92672">=</span> corr_Defaulter<span style="color:#f92672">.</span>unstack()<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span>corr_df_Defaulter<span style="color:#f92672">.</span>columns <span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;VAR1&#39;</span>,<span style="color:#e6db74">&#39;VAR2&#39;</span>,<span style="color:#e6db74">&#39;Correlation&#39;</span>]
</span></span><span style="display:flex;"><span>corr_df_Defaulter<span style="color:#f92672">.</span>dropna(subset <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Correlation&#34;</span>], inplace <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>corr_df_Defaulter[<span style="color:#e6db74">&#34;Correlation&#34;</span>]<span style="color:#f92672">=</span>corr_df_Defaulter[<span style="color:#e6db74">&#34;Correlation&#34;</span>]<span style="color:#f92672">.</span>abs()
</span></span><span style="display:flex;"><span>corr_df_Defaulter<span style="color:#f92672">.</span>sort_values(by<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Correlation&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>corr_df_Defaulter<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">12</span>))
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>heatmap(Defaulter_df<span style="color:#f92672">.</span>corr(), cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;RdYlGn&#34;</span>,annot<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>,linewidth <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><figure><img src="../../images/9.png"/>
</figure>

<p><em>Inferences:</em></p>
<ul>
<li><em>Credit amount is highly correlated with amount of goods price which is same as repayers.</em></li>
<li><em>But the loan annuity correlation with credit amount has slightly reduced in defaulters(0.75) when compared to repayers(0.77)</em></li>
<li><em>We can also see that repayers have high correlation in number of days employed(0.62) when compared to defaulters(0.58).</em></li>
<li><em>There is a severe drop in the correlation between total income of the client and the credit amount(0.038) amongst defaulters whereas it is 0.342 among repayers.</em></li>
<li><em>Days_birth and number of children correlation has reduced to 0.259 in defaulters when compared to 0.337 in repayers.</em></li>
<li><em>There is a slight increase in defaulted to observed count in social circle among defaulters(0.264) when compared to repayers(0.254)</em></li>
</ul>
<h5 id="543-numerical-univariate-analysis">5.4.3 Numerical Univariate Analysis</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Plotting the numerical columns related to amount as distribution plot to see density</span>
</span></span><span style="display:flex;"><span>amount <span style="color:#f92672">=</span> applicationDF[[ <span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>,<span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>,<span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>, <span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>]]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">16</span>,<span style="color:#ae81ff">12</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> enumerate(amount):
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>,i[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>distplot(Defaulter_df[i[<span style="color:#ae81ff">1</span>]], hist<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>,label <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Defaulter&#34;</span>)
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>distplot(Repayer_df[i[<span style="color:#ae81ff">1</span>]], hist<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, label <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Repayer&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(i[<span style="color:#ae81ff">1</span>], fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;fontsize&#39;</span> : <span style="color:#ae81ff">15</span>, <span style="color:#e6db74">&#39;fontweight&#39;</span> : <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#39;color&#39;</span> : <span style="color:#e6db74">&#39;Blue&#39;</span>}) 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show() 
</span></span></code></pre></div><figure><img src="../../images/8.png"/>
</figure>

<p><em>Inferences:</em></p>
<ul>
<li><em>Most no of loans are given for goods price below 10 lakhs</em></li>
<li><em>Most people pay annuity below 50000 for the credit loan</em></li>
<li><em>Credit amount of the loan is mostly less then 10 lakhs</em></li>
<li><em>The repayers and defaulters distribution overlap in all the plots and hence we cannot use any of these variables in isolation to make a decision</em></li>
</ul>
<h5 id="544-numerical-bivariate-analysis">5.4.4 Numerical Bivariate Analysis</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking the relationship between Goods price and credit and comparing with loan repayment staus</span>
</span></span><span style="display:flex;"><span>bivariate_rel(<span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>,<span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>,applicationDF,<span style="color:#e6db74">&#34;TARGET&#34;</span>, <span style="color:#e6db74">&#34;line&#34;</span>, [<span style="color:#e6db74">&#39;g&#39;</span>,<span style="color:#e6db74">&#39;r&#39;</span>], <span style="color:#66d9ef">False</span>,(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">6</span>))
</span></span></code></pre></div><pre><code>&lt;Figure size 1080x432 with 0 Axes&gt;
</code></pre>
<figure><img src="../../images/7.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ul>
<li><em>When the credit amount goes beyond 3M, there is an increase in defaulters.</em></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Plotting pairplot between amount variable to draw reference against loan repayment status</span>
</span></span><span style="display:flex;"><span>amount <span style="color:#f92672">=</span> applicationDF[[ <span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>,<span style="color:#e6db74">&#39;AMT_CREDIT&#39;</span>,
</span></span><span style="display:flex;"><span>                         <span style="color:#e6db74">&#39;AMT_ANNUITY&#39;</span>, <span style="color:#e6db74">&#39;AMT_GOODS_PRICE&#39;</span>,<span style="color:#e6db74">&#39;TARGET&#39;</span>]]
</span></span><span style="display:flex;"><span>amount <span style="color:#f92672">=</span> amount[(amount[<span style="color:#e6db74">&#34;AMT_GOODS_PRICE&#34;</span>]<span style="color:#f92672">.</span>notnull()) <span style="color:#f92672">&amp;</span> (amount[<span style="color:#e6db74">&#34;AMT_ANNUITY&#34;</span>]<span style="color:#f92672">.</span>notnull())]
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>pairplot(amount,hue<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;TARGET&#34;</span>,palette<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;g&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>])
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>legend(labels<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Repayer&#39;</span>,<span style="color:#e6db74">&#39;Defaulter&#39;</span>])
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><figure><img src="../../images/6.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ul>
<li><em>When amt_annuity &gt;15000 amt_goods_price&gt; 3M, there is a lesser chance of defaulters</em></li>
<li><em>AMT_CREDIT and AMT_GOODS_PRICE are highly correlated as based on the scatterplot where most of the data are consolidated in form of a line</em></li>
<li><em>There are very less defaulters for AMT_CREDIT &gt;3M
Inferences related to distribution plot has been already mentioned in previous distplot graphs inferences section</em></li>
</ul>
<h3 id="6-merged-dataframes-analysis">6. Merged Dataframes Analysis</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#merge both the dataframe on SK_ID_CURR with Inner Joins</span>
</span></span><span style="display:flex;"><span>loan_process_df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>merge(applicationDF, previousDF, how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;inner&#39;</span>, on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;SK_ID_CURR&#39;</span>)
</span></span><span style="display:flex;"><span>loan_process_df<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Checking the details of the merged dataframe</span>
</span></span><span style="display:flex;"><span>loan_process_df<span style="color:#f92672">.</span>shape
</span></span></code></pre></div><pre><code>(1413701, 74)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking the element count of the dataframe</span>
</span></span><span style="display:flex;"><span>loan_process_df<span style="color:#f92672">.</span>size
</span></span></code></pre></div><pre><code>104613874
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># checking the columns and column types of the dataframe</span>
</span></span><span style="display:flex;"><span>loan_process_df<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 1413701 entries, 0 to 1413700
Data columns (total 74 columns):
 #   Column                       Non-Null Count    Dtype   
---  ------                       --------------    -----   
 0   SK_ID_CURR                   1413701 non-null  int64   
 1   TARGET                       1413701 non-null  int64   
 2   NAME_CONTRACT_TYPE_x         1413701 non-null  category
 3   CODE_GENDER                  1413701 non-null  category
 4   FLAG_OWN_CAR                 1413701 non-null  category
 5   FLAG_OWN_REALTY              1413701 non-null  category
 6   CNT_CHILDREN                 1413701 non-null  int64   
 7   AMT_INCOME_TOTAL             1413701 non-null  float64 
 8   AMT_CREDIT_x                 1413701 non-null  float64 
 9   AMT_ANNUITY_x                1413608 non-null  float64 
 10  AMT_GOODS_PRICE_x            1412493 non-null  float64 
 11  NAME_TYPE_SUITE              1413701 non-null  category
 12  NAME_INCOME_TYPE             1413701 non-null  category
 13  NAME_EDUCATION_TYPE          1413701 non-null  category
 14  NAME_FAMILY_STATUS           1413701 non-null  category
 15  NAME_HOUSING_TYPE            1413701 non-null  category
 16  REGION_POPULATION_RELATIVE   1413701 non-null  float64 
 17  DAYS_BIRTH                   1413701 non-null  int64   
 18  DAYS_EMPLOYED                1413701 non-null  int64   
 19  DAYS_REGISTRATION            1413701 non-null  float64 
 20  DAYS_ID_PUBLISH              1413701 non-null  int64   
 21  OCCUPATION_TYPE              1413701 non-null  category
 22  CNT_FAM_MEMBERS              1413701 non-null  float64 
 23  REGION_RATING_CLIENT         1413701 non-null  category
 24  REGION_RATING_CLIENT_W_CITY  1413701 non-null  category
 25  WEEKDAY_APPR_PROCESS_START   1413701 non-null  category
 26  HOUR_APPR_PROCESS_START      1413701 non-null  int64   
 27  REG_REGION_NOT_LIVE_REGION   1413701 non-null  int64   
 28  REG_REGION_NOT_WORK_REGION   1413701 non-null  category
 29  LIVE_REGION_NOT_WORK_REGION  1413701 non-null  category
 30  REG_CITY_NOT_LIVE_CITY       1413701 non-null  category
 31  REG_CITY_NOT_WORK_CITY       1413701 non-null  category
 32  LIVE_CITY_NOT_WORK_CITY      1413701 non-null  category
 33  ORGANIZATION_TYPE            1413701 non-null  category
 34  OBS_30_CNT_SOCIAL_CIRCLE     1410555 non-null  float64 
 35  DEF_30_CNT_SOCIAL_CIRCLE     1410555 non-null  float64 
 36  OBS_60_CNT_SOCIAL_CIRCLE     1410555 non-null  float64 
 37  DEF_60_CNT_SOCIAL_CIRCLE     1410555 non-null  float64 
 38  DAYS_LAST_PHONE_CHANGE       1413701 non-null  float64 
 39  FLAG_DOCUMENT_3              1413701 non-null  int64   
 40  AMT_REQ_CREDIT_BUREAU_HOUR   1413701 non-null  float64 
 41  AMT_REQ_CREDIT_BUREAU_DAY    1413701 non-null  float64 
 42  AMT_REQ_CREDIT_BUREAU_WEEK   1413701 non-null  float64 
 43  AMT_REQ_CREDIT_BUREAU_MON    1413701 non-null  float64 
 44  AMT_REQ_CREDIT_BUREAU_QRT    1413701 non-null  float64 
 45  AMT_REQ_CREDIT_BUREAU_YEAR   1413701 non-null  float64 
 46  AMT_INCOME_RANGE             1413024 non-null  category
 47  AMT_CREDIT_RANGE             1413701 non-null  category
 48  AGE                          1413701 non-null  int64   
 49  AGE_GROUP                    1413701 non-null  category
 50  YEARS_EMPLOYED               1413701 non-null  int64   
 51  EMPLOYMENT_YEAR              1032756 non-null  category
 52  SK_ID_PREV                   1413701 non-null  int64   
 53  NAME_CONTRACT_TYPE_y         1413701 non-null  category
 54  AMT_ANNUITY_y                1413701 non-null  float64 
 55  AMT_APPLICATION              1413701 non-null  float64 
 56  AMT_CREDIT_y                 1413700 non-null  float64 
 57  AMT_GOODS_PRICE_y            1413701 non-null  float64 
 58  NAME_CASH_LOAN_PURPOSE       1413701 non-null  category
 59  NAME_CONTRACT_STATUS         1413701 non-null  category
 60  DAYS_DECISION                1413701 non-null  int64   
 61  NAME_PAYMENT_TYPE            1413701 non-null  category
 62  CODE_REJECT_REASON           1413701 non-null  category
 63  NAME_CLIENT_TYPE             1413701 non-null  category
 64  NAME_GOODS_CATEGORY          1413701 non-null  category
 65  NAME_PORTFOLIO               1413701 non-null  category
 66  NAME_PRODUCT_TYPE            1413701 non-null  category
 67  CHANNEL_TYPE                 1413701 non-null  category
 68  SELLERPLACE_AREA             1413701 non-null  int64   
 69  NAME_SELLER_INDUSTRY         1413701 non-null  category
 70  CNT_PAYMENT                  1413701 non-null  float64 
 71  NAME_YIELD_GROUP             1413701 non-null  category
 72  PRODUCT_COMBINATION          1413388 non-null  category
 73  DAYS_DECISION_GROUP          1413701 non-null  category
dtypes: category(37), float64(23), int64(14)
memory usage: 459.8 MB
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking merged dataframe numerical columns statistics</span>
</span></span><span style="display:flex;"><span>loan_process_df<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Bifurcating the applicationDF dataframe based on Target value 0 and 1 for correlation and other analysis</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>L0 <span style="color:#f92672">=</span> loan_process_df[loan_process_df[<span style="color:#e6db74">&#39;TARGET&#39;</span>]<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>] <span style="color:#75715e"># Repayers</span>
</span></span><span style="display:flex;"><span>L1 <span style="color:#f92672">=</span> loan_process_df[loan_process_df[<span style="color:#e6db74">&#39;TARGET&#39;</span>]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>] <span style="color:#75715e"># Defaulters</span>
</span></span></code></pre></div><h5 id="plotting-contract-status-vs-purpose-of-the-loan">Plotting Contract Status vs purpose of the loan:</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>univariate_merged(<span style="color:#e6db74">&#34;NAME_CASH_LOAN_PURPOSE&#34;</span>,L0,<span style="color:#e6db74">&#34;NAME_CONTRACT_STATUS&#34;</span>,[<span style="color:#e6db74">&#34;#548235&#34;</span>,<span style="color:#e6db74">&#34;#FF0000&#34;</span>,<span style="color:#e6db74">&#34;#0070C0&#34;</span>,<span style="color:#e6db74">&#34;#FFFF00&#34;</span>],<span style="color:#66d9ef">True</span>,(<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">7</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>univariate_merged(<span style="color:#e6db74">&#34;NAME_CASH_LOAN_PURPOSE&#34;</span>,L1,<span style="color:#e6db74">&#34;NAME_CONTRACT_STATUS&#34;</span>,[<span style="color:#e6db74">&#34;#548235&#34;</span>,<span style="color:#e6db74">&#34;#FF0000&#34;</span>,<span style="color:#e6db74">&#34;#0070C0&#34;</span>,<span style="color:#e6db74">&#34;#FFFF00&#34;</span>],<span style="color:#66d9ef">True</span>,(<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">7</span>))
</span></span></code></pre></div><figure><img src="../../images/5.png"/>
</figure>

<figure><img src="../../images/4.png"/>
</figure>

<p><strong>Inferences:</strong></p>
<ul>
<li><em>Loan purpose has high number of unknown values (XAP, XNA)</em></li>
<li><em>Loan taken for the purpose of Repairs seems to have highest default rate</em></li>
<li><em>A very high number application have been rejected by bank or refused by client which has purpose as repair or other. This shows that purpose repair is taken as high risk by bank and either they are rejected or bank offers very high loan interest rate which is not feasible by the clients, thus they refuse the loan.</em></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking the Contract Status based on loan repayment status and whether there is any business loss or financial loss</span>
</span></span><span style="display:flex;"><span>univariate_merged(<span style="color:#e6db74">&#34;NAME_CONTRACT_STATUS&#34;</span>,loan_process_df,<span style="color:#e6db74">&#34;TARGET&#34;</span>,[<span style="color:#e6db74">&#39;g&#39;</span>,<span style="color:#e6db74">&#39;r&#39;</span>],<span style="color:#66d9ef">False</span>,(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">8</span>))
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> loan_process_df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#34;NAME_CONTRACT_STATUS&#34;</span>)[<span style="color:#e6db74">&#34;TARGET&#34;</span>]
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([g<span style="color:#f92672">.</span>value_counts(),round(g<span style="color:#f92672">.</span>value_counts(normalize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)<span style="color:#f92672">.</span>mul(<span style="color:#ae81ff">100</span>),<span style="color:#ae81ff">2</span>)],axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, keys<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;Counts&#39;</span>,<span style="color:#e6db74">&#39;Percentage&#39;</span>))
</span></span><span style="display:flex;"><span>df1[<span style="color:#e6db74">&#39;Percentage&#39;</span>] <span style="color:#f92672">=</span> df1[<span style="color:#e6db74">&#39;Percentage&#39;</span>]<span style="color:#f92672">.</span>astype(str) <span style="color:#f92672">+</span><span style="color:#e6db74">&#34;%&#34;</span> <span style="color:#75715e"># adding percentage symbol in the results for understanding</span>
</span></span><span style="display:flex;"><span>print (df1)
</span></span></code></pre></div><figure><img src="../../images/3.png"/>
</figure>

<pre><code>                             Counts Percentage
NAME_CONTRACT_STATUS TARGET                   
Approved             0       818856     92.41%
                     1        67243      7.59%
Canceled             0       235641     90.83%
                     1        23800      9.17%
Refused              0       215952      88.0%
                     1        29438      12.0%
Unused offer         0        20892     91.75%
                     1         1879      8.25%
</code></pre>
<p><strong>Inferences:</strong></p>
<ul>
<li><em>90% of the previously cancelled client have actually repayed the loan. Revisiting the interest rates would increase business opoortunity for these clients</em></li>
<li><em>88% of the clients who have been previously refused a loan has payed back the loan in current case.</em></li>
<li><em>Refual reason should be recorded for further analysis as these clients would turn into potential repaying customer.</em></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># plotting the relationship between income total and contact status</span>
</span></span><span style="display:flex;"><span>merged_pointplot(<span style="color:#e6db74">&#34;NAME_CONTRACT_STATUS&#34;</span>,<span style="color:#e6db74">&#39;AMT_INCOME_TOTAL&#39;</span>)
</span></span></code></pre></div><figure><img src="../../images/2.png"/>
</figure>

<p><strong>Inferences:</strong>
<em>The point plot show that the people who have not used offer earlier have defaulted even when there average income is higher than others</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># plotting the relationship between people who defaulted in last 60 days being in client&#39;s social circle and contact status</span>
</span></span><span style="display:flex;"><span>merged_pointplot(<span style="color:#e6db74">&#34;NAME_CONTRACT_STATUS&#34;</span>,<span style="color:#e6db74">&#39;DEF_60_CNT_SOCIAL_CIRCLE&#39;</span>)
</span></span></code></pre></div><figure><img src="../../images/1.png"/>
</figure>

<p><strong>Inferences:</strong>
<em>Clients who have average of 0.13 or higher DEF_60_CNT_SOCIAL_CIRCLE score tend to default more and hence client&rsquo;s social circle has to be analysed before providing the loan.</em></p>
<h2 id="7-conclusions">7. Conclusions</h2>
<p>After analyzing the datasets, there are few attributes of a client with which the bank would be able to identify if they will repay the loan or not. The analysis is consisted as below with the contributing factors and categorization:</p>
<p><strong>Decisive Factor whether an applicant will be Repayer:</strong></p>
<ol>
<li>NAME_EDUCATION_TYPE: Academic degree has fewer defaults.</li>
<li>NAME_INCOME_TYPE: Students and Businessmen have no defaults.</li>
<li>REGION_RATING_CLIENT: RATING 1 is safer.</li>
<li>ORGANIZATION_TYPE: Clients with Trade Type 4 and 5 and Industry type 8 have defaulted less than 3%.</li>
<li>DAYS_BIRTH: People above age of 50 have a low probability of defaulting.</li>
<li>DAYS_EMPLOYED: Clients with 40+ years of experience having less than 1% default rate.</li>
<li>AMT_INCOME_TOTAL: Applicants with Income more than 700,000 are less likely to default.</li>
<li>NAME_CASH_LOAN_PURPOSE: Loans bought for Hobby, Buying garage are being repaid mostly.</li>
<li>CNT_CHILDREN: People with zero to two children tend to repay the loans.</li>
</ol>
<p><strong>Decisive Factor whether an applicant will be Defaulter:</strong></p>
<ol>
<li>CODE_GENDER: Men are at a relatively higher default rate.</li>
<li>NAME_FAMILY_STATUS: People who have civil marriage or who are single default a lot.</li>
<li>NAME_EDUCATION_TYPE: People with Lower Secondary &amp; Secondary education.</li>
<li>NAME_INCOME_TYPE: Clients who are either at Maternity leave OR Unemployed default a lot.</li>
<li>REGION_RATING_CLIENT: People who live in Rating 3 have the highest defaults.</li>
<li>OCCUPATION_TYPE: Avoid Low-skill Laborers, Drivers and Waiters/barmen staff, Security staff, Laborers and Cooking staff as the default rate is huge.</li>
<li>ORGANIZATION_TYPE: Organizations with the highest percent of loans not repaid are Transport: type 3 (16%), Industry: type 13 (13.5%), Industry: type 8 (12.5%) and Restaurant (less than 12%). Self-employed people have a relatively high defaulting rate and thus should be avoided to be approved for a loan or provide a loan with a higher interest rate to mitigate the risk of defaulting.</li>
<li>DAYS_BIRTH: Avoid young people who are in the age group of 20-40 as they have a higher probability of defaulting.</li>
<li>DAYS_EMPLOYED: People who have less than 5 years of employment have a high default rate.</li>
<li>CNT_CHILDREN &amp; CNT_FAM_MEMBERS: Clients who have children equal to or more than 9 default 100%, and hence their applications are to be rejected.</li>
<li>AMT_GOODS_PRICE: When the credit amount goes beyond 3M, there is an increase in defaulters.</li>
</ol>
<p><strong>Decisive Factor whether an applicant will be Defaulter:</strong></p>
<ol>
<li>NAME_HOUSING_TYPE: A high number of loan applications are from the category of people who live in Rented apartments &amp; living with parents, and hence offering the loan would mitigate the loss if any of those default.</li>
<li>AMT_CREDIT: People who get loans for 300-600k tend to default more than others, and hence having higher interest specifically for this credit range would be ideal.</li>
<li>AMT_INCOME: Since 90% of the applications have Income total less than 300,000 and they have a high probability of defaulting, they could be offered a loan with a higher interest compared to other income categories.</li>
<li>CNT_CHILDREN &amp; CNT_FAM_MEMBERS: Clients who have 4 to 8 children have a very high default rate, and hence higher interest should be imposed on their loans.</li>
<li>NAME_CASH_LOAN_PURPOSE: Loans taken for the purpose of Repairs seem to have the highest default rate. A very high number of applications have been rejected by the bank or refused by the client in previous applications as well which has the purpose as repair or other. This shows that the purpose repair is taken as high risk by the bank and either they are rejected, or the bank offers a very high loan interest rate which is not feasible by the clients, thus they refuse the loan. The same approach could be followed in the future as well.</li>
</ol>
<p><strong>Other suggestions:</strong></p>
<ul>
<li>90% of the previously canceled clients have actually repaid the loan. Record the reason for cancellation which might help the bank to determine and negotiate terms with these repaying customers in the future for an increase in business opportunity.</li>
<li>88% of the clients who were refused by the bank for a loan earlier have now turned into a repaying client. Hence documenting the reason for rejection could mitigate the business loss, and these clients could be contacted for further loans.</li>
</ul>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="../" >
    &copy;  Eric Gitonga. 2024 
  </a>
    <div>
<div class="ananke-socials">
  
    
    <a href="https://www.instagram.com/gitonga_2.0?igsh=MTZxMHJpMnl4d3l1bA==" target="_blank" rel="noopener" class="instagram ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Instagram link" aria-label="follow on Instagram——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.271,26.578v-0.006c0.502,0,1.005,0.01,1.508-0.002  c0.646-0.017,1.172-0.57,1.172-1.217c0-0.963,0-1.927,0-2.89c0-0.691-0.547-1.24-1.236-1.241c-0.961,0-1.922-0.001-2.883,0  c-0.688,0.001-1.236,0.552-1.236,1.243c-0.001,0.955-0.004,1.91,0.003,2.865c0.001,0.143,0.028,0.291,0.073,0.426  c0.173,0.508,0.639,0.82,1.209,0.823C41.344,26.579,41.808,26.578,42.271,26.578z M33,27.817c-3.384-0.002-6.135,2.721-6.182,6.089  c-0.049,3.46,2.72,6.201,6.04,6.272c3.454,0.074,6.248-2.686,6.321-6.043C39.254,30.675,36.462,27.815,33,27.817z M21.046,31.116  v0.082c0,4.515-0.001,9.03,0,13.545c0,0.649,0.562,1.208,1.212,1.208c7.16,0.001,14.319,0.001,21.479,0  c0.656,0,1.215-0.557,1.215-1.212c0.001-4.509,0-9.02,0-13.528v-0.094h-2.912c0.411,1.313,0.537,2.651,0.376,4.014  c-0.161,1.363-0.601,2.631-1.316,3.803s-1.644,2.145-2.779,2.918c-2.944,2.006-6.821,2.182-9.946,0.428  c-1.579-0.885-2.819-2.12-3.685-3.713c-1.289-2.373-1.495-4.865-0.739-7.451C22.983,31.116,22.021,31.116,21.046,31.116z   M45.205,49.255c0.159-0.026,0.318-0.049,0.475-0.083c1.246-0.265,2.264-1.304,2.508-2.557c0.025-0.137,0.045-0.273,0.067-0.409  V21.794c-0.021-0.133-0.04-0.268-0.065-0.401c-0.268-1.367-1.396-2.428-2.78-2.618c-0.058-0.007-0.113-0.02-0.17-0.03H20.761  c-0.147,0.027-0.296,0.047-0.441,0.08c-1.352,0.308-2.352,1.396-2.545,2.766c-0.008,0.057-0.02,0.114-0.029,0.171V46.24  c0.028,0.154,0.05,0.311,0.085,0.465c0.299,1.322,1.427,2.347,2.77,2.52c0.064,0.008,0.13,0.021,0.195,0.03H45.205z M33,64  C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://github.com/gitonga86" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://www.linkedin.com/in/eric-gitonga-knight" target="_blank" rel="noopener" class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" aria-label="follow on LinkedIn——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
